<!DOCTYPE html>
<html itemscope itemtype="http://schema.org/QAPage">

<head>

<title>c++ - What are the basic rules and idioms for operator overloading? - Stack Overflow</title>
    <link rel="shortcut icon" href="https://cdn.sstatic.net/Sites/stackoverflow/img/favicon.ico?v=4f32ecc8f43d">
    <link rel="apple-touch-icon image_src" href="https://cdn.sstatic.net/Sites/stackoverflow/img/apple-touch-icon.png?v=c78bd457575a">
    <link rel="search" type="application/opensearchdescription+xml" title="Stack Overflow" href="/opensearch.xml">
    <meta property="og:type" content="website"/>
    <meta name="twitter:card" content="summary"/>
        <meta name="twitter:domain" content="stackoverflow.com"/>

    <meta property="og:image" itemprop="image primaryImageOfPage" content="https://cdn.sstatic.net/Sites/stackoverflow/img/apple-touch-icon@2.png?v=73d79a89bded" />
    <meta name="twitter:title" property="og:title" itemprop="title name" content="What are the basic rules and idioms for operator overloading?" />
    <meta name="twitter:description" property="og:description" itemprop="description" content="Note: The answers were given in a specific order, but since many users sort answers according to votes, rather than the time they were given, here&#39;s an index of the answers in the order in which they " />
    <meta property="og:url" content="https://stackoverflow.com/questions/4421706/what-are-the-basic-rules-and-idioms-for-operator-overloading"/>
    <link rel="canonical" href="https://stackoverflow.com/questions/4421706/what-are-the-basic-rules-and-idioms-for-operator-overloading" />

    
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://cdn.sstatic.net/Js/stub.en.js?v=58aed019ba75"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.sstatic.net/Sites/stackoverflow/all.css?v=79f4fffba578">

            <link rel="alternate" type="application/atom+xml" title="Feed for question &#39;What are the basic rules and idioms for operator overloading?&#39;" href="/feeds/question/4421706">
            <meta name="twitter:app:country" content="US" />
            <meta name="twitter:app:name:iphone" content="Stack Exchange iOS" />
            <meta name="twitter:app:id:iphone" content="871299723" />
            <meta name="twitter:app:url:iphone" content="se-zaphod://stackoverflow.com/questions/4421706/what-are-the-basic-rules-and-idioms-for-operator-overloading" />
            <meta name="twitter:app:name:ipad" content="Stack Exchange iOS" />
            <meta name="twitter:app:id:ipad" content="871299723" />
            <meta name="twitter:app:url:ipad" content="se-zaphod://stackoverflow.com/questions/4421706/what-are-the-basic-rules-and-idioms-for-operator-overloading" />
            <meta name="twitter:app:name:googleplay" content="Stack Exchange Android">
            <meta name="twitter:app:url:googleplay" content="http://stackoverflow.com/questions/4421706/what-are-the-basic-rules-and-idioms-for-operator-overloading">
            <meta name="twitter:app:id:googleplay" content="com.stackexchange.marvin">
        <script>
        
            StackExchange.ready(function () {
                                    
                    StackExchange.using("snippets", function () {
                        StackExchange.snippets.initSnippetRenderer();
                    });
                    

                StackExchange.using("postValidation", function () {
                    StackExchange.postValidation.initOnBlurAndSubmit($('#post-form'), 2, 'answer');
                });

                
                StackExchange.question.init({showAnswerHelp:true,totalCommentCount:9,shownCommentCount:5,highlightColor:'#F4A83D',backgroundColor:'#FFF',questionId:4421706});

                styleCode();

                    StackExchange.realtime.subscribeToQuestion('1', '4421706');
                                                                    StackExchange.using("gps", function () { StackExchange.gps.trackOutboundClicks('#content', '.post-text', true); });

            });
        </script>


    <script>
        StackExchange.init({"locale":"en","stackAuthUrl":"https://stackauth.com","networkMetaHostname":"meta.stackexchange.com","serverTime":1499331283,"routeName":"Questions/Show","site":{"name":"Stack Overflow","description":"Q&A for professional and enthusiast programmers","isNoticesTabEnabled":true,"recaptchaPublicKey":"6LdchgIAAAAAAJwGpIzRQSOFaO0pU6s44Xt8aTwc","recaptchaAudioLang":"en","enableNewTagCreationWarning":true,"insertSpaceAfterNameTabCompletion":false,"id":1,"enableInsertDocLinkDialog":true,"childUrl":"https://meta.stackoverflow.com","enableSocialMediaInSharePopup":true,"protocol":"https"},"user":{"fkey":"1d0512389d486a460f2a532f9bf02cdf","rep":0,"isAnonymous":true,"isAnonymousNetworkWide":true,"canSeeNewHeaderDesign":true,"ab":{"inline_signup_hero":{"v":"a","g":2}}},"events":{"postType":{"question":1},"postEditionSection":{"title":1,"body":2,"tags":3}},"story":{"minCompleteBodyLength":75,"likedTagsMaxLength":300,"dislikedTagsMaxLength":300}}, {"site":{"allowImageUploads":true,"enableUserHovercards":true,"styleCode":true,"enableNewLinkInsertDialog":true,"enableImgurHttps":true,"forceHttpsImages":true},"comments":{},"userProfile":{"openGraphAPIKey":"58740831ad23540e00c58987"},"tags":{},"accounts":{"currentPasswordRequiredForChangingStackIdPassword":true},"flags":{"allowRetractingFlags":true},"snippets":{"snippetsEnabled":true,"renderDomain":"stacksnippets.net"},"markdown":{"asteriskIntraWordEmphasis":true},"monitoring":{"clientTimingsAbsoluteTimeout":30000,"clientTimingsDebounceTimeout":1000}});
        StackExchange.using.setCacheBreakers({"js/prettify-full.en.js":"0ef085c47fa4","js/moderator.en.js":"3c90ddcfdaff","js/full-anon.en.js":"fdbb53dad0e1","js/full.en.js":"50ab63fd587e","js/wmd.en.js":"769dd01ce7f7","js/third-party/jquery.autocomplete.min.js":"d3b8fa7fdf74","js/third-party/jquery.autocomplete.min.en.js":"","js/mobile.en.js":"5834abd14d5c","js/help.en.js":"118cb359bcc6","js/tageditor.en.js":"7968c1573954","js/tageditornew.en.js":"5c57fc7d9229","js/inline-tag-editing.en.js":"3708230a023a","js/revisions.en.js":"8f22ba768cac","js/review.en.js":"2478c1c518ee","js/tagsuggestions.en.js":"b278f9a0b23b","js/post-validation.en.js":"164e6d28a39c","js/explore-qlist.en.js":"d33e3ab2f2e0","js/events.en.js":"dba731f20459","js/keyboard-shortcuts.en.js":"42a8b3ab6ab2","js/external-editor.en.js":"ae2d26085224","js/adops.en.js":"9a6a7812a212","js/external-editor.en.js":"ae2d26085224","js/snippet-javascript.en.js":"ca40b13b0854","js/snippet-javascript-codemirror.en.js":"ddf1efe2e469"});
        StackExchange.using("gps", function() {
             StackExchange.gps.init(true);
        });
    </script>
    
        <script>
            StackExchange.ready(function () {
                $('#nav-tour').click(function () {
                    StackExchange.using("gps", function() {
                        StackExchange.gps.track("aboutpage.click", { aboutclick_location: "headermain" }, true);
                    });
                });
            });
        </script>
    <noscript id="noscript-css"><style type="text/css">body,.so-header{margin-top:1.9em}</style></noscript>
</head>
<body class="question-page new-topbar">
            <script>(function () { var old = $.fn.contents; $.fn.contents = function () { try { return old.apply(this, arguments); } catch (e) { return $([]); } } })()</script>
        <iframe id="adzerk-user-match" width="0" height="0" frameborder="0" scrolling="no" onload="window.AUMIframeDone=true"
                src="https://ssum-sec.casalemedia.com/usermatch?s=183712&amp;cb=https%3A%2F%2Fengine.adzerk.net%2Fudb%2F22%2Fsync%2Fi.gif%3FpartnerId%3D1%26userId%3D"
                style="display: none;" marginheight="0" marginwidth="0"></iframe>

    <div id="notify-container"></div>
    <div id="custom-header"></div>


<header class="so-header js-so-header _fixed">
    <div class="-container">
        <div class="-main">            
            <a href="https://stackoverflow.com" class="-logo js-gps-track "
               data-gps-track="top_nav.click({is_current:false, location:2, destination:8})">

                <span class="-img">Stack Overflow</span>
            </a>

            <nav class="navigation" role="navigation" aria-label="site navigation">
                <ol class="-list">
                        <li class="-item _current">
        <a id="nav-questions" href="/questions" class="-link js-gps-track" 
            data-gps-track="top_nav.click({is_current:true, location:2, destination:1})">Questions</a>
    </li>

    <li class="-item">
        <a id="nav-jobs" href="/jobs?med=site-ui&amp;ref=jobs-tab" class="-link js-gps-track" 
            data-gps-track="top_nav.click({is_current:false, location:2, destination:6})">Developer Jobs</a>
    </li>
                        <li class="-item">
        <a id="nav-docs" href="/documentation" class="-link js-gps-track" 
            data-gps-track="top_nav.click({is_current:false, location:2, destination:7})">Documentation <small class='beta-badge'>beta</small></a>
    </li>
                        <li class="-item">
        <a id="nav-tags" href="/tags" class="-link js-gps-track" 
            data-gps-track="top_nav.click({is_current:false, location:2, destination:2})">Tags</a>
    </li>

                        <li class="-item">
        <a id="nav-users" href="/users" class="-link js-gps-track" 
            data-gps-track="top_nav.click({is_current:false, location:2, destination:3})">Users</a>
    </li>

                </ol>
            </nav>

                <form id="search" action="/search" method="get" class="searchbar" autocomplete="off" role="search">
                    <svg role="icon" class="svg-icon iconSearch" width="18" height="18" viewBox="0 0 18 18"><path d="M12.864 11.321L18 16.5 16.5 18l-5.178-5.136v-.357a7 7 0 1 1 1.186-1.186h.356zM7 12A5 5 0 1 0 7 2a5 5 0 0 0 0 10z"/></svg>
                    <input name="q" type="text" placeholder="Search..." value="" tabindex="1" autocomplete="off" maxlength="240" class="f-input js-search-field" />
                    <button type="submit" class="btn js-search-submit">
                        <svg role="icon" class="svg-icon iconSearch" width="18" height="18" viewBox="0 0 18 18"><path d="M12.864 11.321L18 16.5 16.5 18l-5.178-5.136v-.357a7 7 0 1 1 1.186-1.186h.356zM7 12A5 5 0 1 0 7 2a5 5 0 0 0 0 10z"/></svg>
                    </button>
                </form>

        </div>
        


    

<div class="-actions">
    <nav class="secondary-nav">
        <div class="-dialog-container js-topbar-dialog-corral">


    <div class="topbar-dialog siteSwitcher-dialog dno">
        <div class="header">
            <h3><a href="https://stackoverflow.com">current community</a>
            </h3>
        </div>
        <div class="modal-content current-site-container">
            <ul class="current-site">
                    <li>
                            <div class="related-links">
            <a href="https://stackoverflow.com/help" class="js-gps-track"     data-gps-track="site_switcher.click({ item_type:14 })"
>help</a>
                    <a href="https://chat.stackoverflow.com" class="js-gps-track"     data-gps-track="site_switcher.click({ item_type:6 })"
>chat</a>
            </div>

    <a href="https://stackoverflow.com"
       class="current-site-link site-link js-gps-track"
       data-id="1"
       data-gps-track="site_switcher.click({ item_type:3 })">
        <div class="site-icon favicon favicon-stackoverflow" title="Stack Overflow"></div>
        Stack Overflow
    </a>

                    </li>
                    <li class="related-site">
                            <div class="L-shaped-icon-container">
        <span class="L-shaped-icon"></span>
    </div>

                        
    <a href="https://meta.stackoverflow.com"
       class="site-link js-gps-track"
       data-id="552"
       data-gps-track="site.switch({ target_site:552, item_type:3 }),site_switcher.click({ item_type:4 })">
        <div class="site-icon favicon favicon-stackoverflowmeta" title="Meta Stack Overflow"></div>
        Meta Stack Overflow
    </a>

                    </li>
            </ul>
        </div>

        <div class="header" id="your-communities-header">
            <h3>
your communities            </h3>

        </div>
        <div class="modal-content" id="your-communities-section">

                <div class="call-to-login">
<a href="https://stackoverflow.com/users/signup?ssrc=site_switcher&amp;returnurl=%2fusers%2fstory%2fcurrent&amp;amp;utm_source=stackoverflow.com&amp;amp;utm_medium=dev-story&amp;amp;utm_campaign=signup-redirect" class="login-link js-gps-track"     data-gps-track="site_switcher.click({ item_type:10 })"
>Sign up</a> or <a href="https://stackoverflow.com/users/login?ssrc=site_switcher&amp;returnurl=https%3a%2f%2fstackoverflow.com%2fquestions%2f4421706%2fwhat-are-the-basic-rules-and-idioms-for-operator-overloading" class="login-link js-gps-track"     data-gps-track="site_switcher.click({ item_type:11 })"
>log in</a> to customize your list.
                </div>
        </div>

        <div class="header">
            <h3><a href="https://stackexchange.com/sites">more stack exchange communities</a>
            </h3>
            <a href="https://stackoverflow.blog" class="fr">company blog</a>
        </div>
        <div class="modal-content">
                <div class="child-content"></div>
        </div>        
    </div>
                <div class="topbar-dialog help-dialog js-help-dialog dno">
        <div class="modal-content">
            <ul>
                                    <li>
                        <a href="/tour" class="js-gps-track" data-gps-track="help_popup.click({ item_type:1 })">
                            Tour
                            <span class="item-summary">
                                Start here for a quick overview of the site
                            </span>
                        </a>
                    </li>
                <li>
                    <a href="/help" class="js-gps-track" data-gps-track="help_popup.click({ item_type:4 })">
                        Help Center
                        <span class="item-summary">
                            Detailed answers to any questions you might have
                        </span>
                    </a>
                </li>
                        <li>
                            <a href="https://meta.stackoverflow.com" class="js-gps-track" data-gps-track="help_popup.click({ item_type:2 })">
                                Meta
                                <span class="item-summary">
                                    Discuss the workings and policies of this site
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="https://stackoverflow.com/company/about" class="js-gps-track" data-gps-track="help_popup.click({ item_type:6 })">
                                About Us
                                <span class="item-summary">
                                    Learn more about Stack Overflow the company
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="https://www.stackoverflowbusiness.com/?ref=topbar_help" class="js-gps-track" data-gps-track="help_popup.click({ item_type:7 })">
                                Business
                                <span class="item-summary">
                                    Learn more about hiring developers or posting ads with us
                                </span>
                            </a>
                        </li>
            </ul>
        </div>
    </div>

        </div>
        <ol class="-list">


    <li class="-item"><a href="#" class="-link js-help-button" title="Help Center and other resources">
        <svg role="icon" class="svg-icon iconHelp" width="18" height="18" viewBox="0 0 18 18"><path d="M9 1a8 8 0 1 0 0 16.001A8 8 0 0 0 9 1zm.812 12.126c-.02.716-.55 1.157-1.238 1.137-.659-.02-1.177-.49-1.157-1.209.02-.715.566-1.17 1.225-1.15.691.021 1.194.507 1.17 1.222zm1.956-5.114c-.168.237-.546.542-1.02.912l-.527.361c-.257.197-.417.43-.502.695-.044.141-.076.507-.084.752-.004.048-.032.156-.181.156H7.883c-.165 0-.185-.096-.18-.144.023-.667.12-1.218.397-1.66.374-.594 1.426-1.221 1.426-1.221.161-.12.286-.25.382-.39.177-.24.321-.51.321-.8 0-.333-.08-.65-.293-.915-.249-.31-.518-.458-1.036-.458-.51 0-.808.257-1.021.594-.213.338-.177.735-.177 1.097H5.746c0-1.366.357-2.238 1.112-2.752.51-.35 1.162-.502 1.921-.502.996 0 1.788.184 2.487.715.647.49.988 1.181.988 2.113 0 .575-.2 1.057-.486 1.447z"/></svg>
    </a></li>
                <li class="-item">
        <a href="https://stackexchange.com" class="-link js-site-switcher-button js-gps-track" data-gps-track="site_switcher.show" title="A list of all 169 Stack Exchange sites">
            <svg role="icon" class="svg-icon iconStackExchange" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13a2 2 0 0 0 2 2h8v3l3-3h1a2 2 0 0 0 2-2v-2H1v2zM15 1H3a2 2 0 0 0-2 2v2h16V3a2 2 0 0 0-2-2zM1 6h16v4H1V6z"/></svg>
        </a>
    </li>


        </ol>
    </nav>
        <div class="-ctas">
                <a href="https://stackoverflow.com/users/login?ssrc=head&returnurl=https%3a%2f%2fstackoverflow.com%2fquestions%2f4421706%2fwhat-are-the-basic-rules-and-idioms-for-operator-overloading" class="login-link btn-clear" rel="nofollow">Log In</a>
                    <a href="https://stackoverflow.com/users/signup?ssrc=head&returnurl=%2fusers%2fstory%2fcurrent&amp;utm_source=stackoverflow.com&amp;utm_medium=dev-story&amp;utm_campaign=signup-redirect" class="login-link btn" rel="nofollow">Sign Up</a>

        </div>
</div>
    </div>
</header>

    <script>
        StackExchange.ready(function () { StackExchange.topbar.init(); });
            StackExchange.scrollPadding.setPaddingTop(60, 10);     </script>

    <div class="container">
        


        <div id="content" class="snippet-hidden">



            

<div itemscope itemtype="http://schema.org/Question">
    <link itemprop="image" href="https://cdn.sstatic.net/Sites/stackoverflow/img/apple-touch-icon.png?v=c78bd457575a">


<div id="herobox" class="alternate">
    <div class="test"></div>
        <div id="close">
            <a title="click to minimize"><span>x</span> Dismiss</a>
        </div>
    <div class="content">
        <b>Join the Stack Overflow Community</b>
        <div class="separator"></div>
        <div class="blurb">
            Stack Overflow is a community of 7.4 million programmers, just like you, helping each other.
                <br/>
Join them; it only takes a minute:                <br/>
        </div>
        <a href="/users/signup?ssrc=hero&amp;returnurl=%2fusers%2fstory%2fcurrent&amp;amp;utm_source=stackoverflow.com&amp;amp;utm_medium=dev-story&amp;amp;utm_campaign=signup-redirect" id="tell-me-more" class="button">Sign up</a>
    </div>
</div>
<script>
    StackExchange.ready(function () {

        var location = 0;
        if ($("body").hasClass("questions-page")) {
            location = 1;
        } else if ($("body").hasClass("question-page")) {
            location = 1;
        } else if ($("body").hasClass("faq-page")) {
            location = 5;
        } else if ($("body").hasClass("home-page")) {
            location = 3;
        }
        
        $('#tell-me-more').click(function () {
            StackExchange.using("gps", function () {
                StackExchange.gps.track("hero.action", { hero_action_type: 'cta', location: location }, true);
            });
        });
        
        $('#herobox #close').click(function () {
            StackExchange.using("gps", function () {
                StackExchange.gps.track("hero.action", { hero_action_type: "minimize", location: location }, true);
            });
            
            $.cookie("hero", "mini", { path: "/", expires: 365 });
            $.ajax({
                url: "/hero-mini",
                success: function (data) {
                    $("#herobox").fadeOut("fast", function () {
                        $("#herobox").replaceWith(data);
                        $("#herobox-mini").fadeIn("fast");
                    });
                }
            });
            return false;
        });
    });

</script>			<div id="question-header">
                <h1 itemprop="name"><a href="/questions/4421706/what-are-the-basic-rules-and-idioms-for-operator-overloading" class="question-hyperlink">What are the basic rules and idioms for operator overloading?</a></h1>

            
<div class="aside-cta" role="navigation" aria-label="ask new question">
    <a href="/questions/ask" class="btn-outlined">Ask Question</a>
</div>
		</div>
			<div id="mainbar" role="main" aria-label="question and answers">

			

<div class="question" data-questionid="4421706"  id="question">

    <div class="everyonelovesstackoverflow" id="clc-tlb"></div>    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="4421706">
        <a class="vote-up-off" title="This question shows research effort; it is useful and clear">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post high-scored-post">1627</span>
        <a class="vote-down-off" title="This question does not show any research effort; it is unclear or not useful">down vote</a>

        <a class="star-off" href="#">favorite</a>
        <div class="favoritecount"><b>1336</b></div>


</div>

            </td>
            
<td class="postcell">
<div>
    <div class="post-text" itemprop="text">

<p>Note: The answers were given in <em>a specific order</em>, but since many users sort answers according to votes, rather than the time they were given, here's an <strong><em>index of the answers</em></strong> in the order in which they make most sense:</p>

<ul>
<li><a href="https://stackoverflow.com/questions/4421706/operator-overloading-in-c/4421715#4421715">The General Syntax of operator overloading in C++</a></li>
<li><a href="https://stackoverflow.com/questions/4421706/operator-overloading-in-c/4421708#4421708">The Three Basic Rules of Operator Overloading in C++</a></li>
<li><a href="https://stackoverflow.com/questions/4421706/operator-overloading-in-c/4421729#4421729">The Decision between Member and Non-member</a></li>
<li><a href="https://stackoverflow.com/questions/4421706/operator-overloading-in-c/4421719#4421719">Common operators to overload</a>

<ul>
<li>Assignment Operator</li>
<li>Input and Output Operators</li>
<li>Function call operator</li>
<li>Comparison operators</li>
<li>Arithmetic Operators</li>
<li>Array Subscripting</li>
<li>Operators for Pointer-like Types</li>
<li><a href="https://stackoverflow.com/questions/4421706/operator-overloading/16615725#16615725">Conversion Operators</a></li>
</ul></li>
<li><a href="https://stackoverflow.com/questions/4421706/operator-overloading-in-c/4421791#4421791">Overloading new and delete</a>                   </li>
</ul>

<p><sub>
<em>(Note: This is meant to be an entry to <a href="https://stackoverflow.com/questions/tagged/c++-faq">Stack Overflow's C++ FAQ</a>. If you want to critique the idea of providing an FAQ in this form, then <a href="https://meta.stackexchange.com/questions/68647/setting-up-a-faq-for-the-c-tag">the posting on meta that started all this</a> would be the place to do that. Answers to that question are monitored in the <a href="http://chat.stackoverflow.com/rooms/10/c-lounge">C++ chatroom</a>, where the FAQ idea started out in the first place, so your answer is very likely to get read by those who came up with the idea.)</em>
</sub>           </p>
    </div>
    <div class="post-taglist">
        <a href="/questions/tagged/c%2b%2b" class="post-tag" title="show questions tagged &#39;c++&#39;" rel="tag">c++</a> <a href="/questions/tagged/operators" class="post-tag" title="show questions tagged &#39;operators&#39;" rel="tag">operators</a> <a href="/questions/tagged/operator-overloading" class="post-tag" title="show questions tagged &#39;operator-overloading&#39;" rel="tag">operator-overloading</a> <a href="/questions/tagged/c%2b%2b-faq" class="post-tag" title="show questions tagged &#39;c++-faq&#39;" rel="tag">c++-faq</a> 
    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/q/4421706" title="short permalink to this question" class="short-link" id="link-post-4421706">share</a><span class="lsep">|</span><a href="/posts/4421706/edit" class="suggest-edit-post" title="">improve this question</a></div>        
    </td>
    <td align="right" class="post-signature">
<div class="user-info user-hover">
    <div class="user-action-time">
        <a href="/posts/4421706/revisions" title="show all edits to this post">edited <span title="2017-06-28 11:20:52Z" class="relativetime">Jun 28 at 11:20</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="/users/3980929/rakete1111"><div class="gravatar-wrapper-32"><img src="https://i.stack.imgur.com/xyKrD.png?s=32&amp;g=1" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/3980929/rakete1111">Rakete1111</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 18,324" dir="ltr">18.3k</span><span title="8 gold badges"><span class="badge1"></span><span class="badgecount">8</span></span><span title="35 silver badges"><span class="badge2"></span><span class="badgecount">35</span></span><span title="70 bronze badges"><span class="badge3"></span><span class="badgecount">70</span></span>
        </div>
    </div>
</div>    </td>
    <td class="post-signature owner">
        <div class="user-info user-hover">
    <div class="user-action-time">
        asked <span title="2010-12-12 12:44:56Z" class="relativetime">Dec 12 '10 at 12:44</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/140719/sbi"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/84a6aa25ee85e948123d97b672135526?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/140719/sbi">sbi</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 145,286" dir="ltr">145k</span><span title="36 gold badges"><span class="badge1"></span><span class="badgecount">36</span></span><span title="189 silver badges"><span class="badge2"></span><span class="badgecount">189</span></span><span title="363 bronze badges"><span class="badge3"></span><span class="badgecount">363</span></span>
        </div>
    </div>
</div>
    </td>
    </tr>
    </table>
</div>
</td>
        </tr>
                    
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-4421706" class="comments ">
		    <table>
                <tbody data-remaining-comments-count="4"
                       data-canpost="false"
                       data-cansee="true"
                       data-comments-unavailable="false"
                       data-addlink-disabled="true">



    <tr id="comment-4824475" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="hot">28</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">I should flag this for CW, but such a great work really needs to be awarded with some rep.</span>
                    &ndash;&nbsp;<a href="/users/214671/matteo-italia"
                       title="79,156 reputation"
                       class="comment-user">Matteo Italia</a>
                <span class="comment-date" dir="ltr"><span title="2010-12-12 13:00:27Z" class="relativetime-clean">Dec 12 '10 at 13:00</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-4824749" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">3</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@Matteo: FWIW, writing this took the better part of my Sunday, an article draft that actually was meant to get published one day, and a big overdraw on my good-will credit with the kids (who wanted me to play LEGO with them instead). Please don&#39;t begrudge me the rep I get for it.</span>
                    &ndash;&nbsp;<a href="/users/140719/sbi"
                       title="145,286 reputation"
                       class="comment-user owner">sbi</a>
                <span class="comment-date" dir="ltr"><span title="2010-12-12 13:55:37Z" class="relativetime-clean">Dec 12 '10 at 13:55</span></span>
                        <span class="edited-yes" title="this comment was edited 1 time"></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-4825002" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">4</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@sbi: maybe I expressed myself badly: I meant that in general somebody may flag this for CW, but you&#39;ve done a great work, so I&#39;m not going to push for CW at all, since you really deserve the rep you&#39;re getting from this. :)</span>
                    &ndash;&nbsp;<a href="/users/214671/matteo-italia"
                       title="79,156 reputation"
                       class="comment-user">Matteo Italia</a>
                <span class="comment-date" dir="ltr"><span title="2010-12-12 14:43:16Z" class="relativetime-clean">Dec 12 '10 at 14:43</span></span>
                        <span class="edited-yes" title="this comment was edited 1 time"></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-4851795" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="supernova">46</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">If we&#39;re going to continue with the C++-FAQ tag, this is how entries should be formatted.</span>
                    &ndash;&nbsp;<a href="/users/241536/john-dibling"
                       title="73,737 reputation"
                       class="comment-user">John Dibling</a>
                <span class="comment-date" dir="ltr"><span title="2010-12-14 19:45:49Z" class="relativetime-clean">Dec 14 '10 at 19:45</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-20230298" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">4</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">Oh my god! I haven&#39;t touched C++ for years and years (forced to write C# all day long now) and when I did, I was fairly young and clueless. I&#39;ve decided to polish my C++ skills again, and posts like this... well, they&#39;re going to make it SO much easier! Thank you!</span>
                    &ndash;&nbsp;<a href="/users/419407/tobias"
                       title="625 reputation"
                       class="comment-user">Tobias</a>
                <span class="comment-date" dir="ltr"><span title="2013-01-24 22:14:57Z" class="relativetime-clean">Jan 24 '13 at 22:14</span></span>
                                                                            </div>
                    </td>
    </tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-4421706" data-rep=50 data-anon=true>

                <a class="js-add-link comments-link  dno"
                   title="Use comments to ask for more information or suggest improvements. Avoid answering questions in comments."
                   ></a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link " title="expand to show all comments on this post" href=# onclick="">show <b>4</b> more comments</a>
        </div>         
    </td>
</tr>        </table>
</div>

			<div id="answers">

				<a name="tab-top"></a>
				<div id="answers-header">
					<div class="subheader answers-subheader">
						<h2>
								7 Answers
                                <span style="display:none;" itemprop="answerCount">7</span>
						</h2>
						<div>
							<div id="tabs">
        <a href="/questions/4421706/what-are-the-basic-rules-and-idioms-for-operator-overloading?answertab=active#tab-top" data-nav-xhref="" title="Answers with the latest activity first" data-value="active" data-shortcut="A">
            active</a>
        <a href="/questions/4421706/what-are-the-basic-rules-and-idioms-for-operator-overloading?answertab=oldest#tab-top" data-nav-xhref="" title="Answers in the order they were provided" data-value="oldest" data-shortcut="O">
            oldest</a>
        <a class="youarehere" href="/questions/4421706/what-are-the-basic-rules-and-idioms-for-operator-overloading?answertab=votes#tab-top" data-nav-xhref="" title="Answers with the highest score first" data-value="votes" data-shortcut="V">
            votes</a>
</div>
						</div>
					</div>    
				</div>    




  
<a name="4421719"></a>
<div id="answer-4421719" class="answer" data-answerid="4421719"  itemscope itemtype="http://schema.org/Answer">
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="4421719">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">795</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>




</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<h1>Common operators to overload</h1>

<p>Most of the work in overloading operators is boiler-plate code. That is little wonder, since operators are merely syntactic sugar, their actual work could be done by (and often is forwarded to) plain functions. But it is important that you get this boiler-plate code right. If you fail, either your operator’s code won’t compile or your users’ code won’t compile or your users’ code will behave surprisingly.</p>

<h2>Assignment Operator</h2>

<p>There's a lot to be said about assignment. However, most of it has already been said in <a href="https://stackoverflow.com/questions/3279543/what-is-the-copy-and-swap-idiom">GMan's famous Copy-And-Swap FAQ</a>, so I'll skip most of it here, only listing the perfect assignment operator for reference:</p>

<pre><code>X&amp; X::operator=(X rhs)
{
  swap(rhs);
  return *this;
}
</code></pre>

<h2>Bitshift Operators (used for Stream I/O)</h2>

<p>The bitshift operators <code>&lt;&lt;</code> and <code>&gt;&gt;</code>, although still used in hardware interfacing for the bit-manipulation functions they inherit from C, have become more prevalent as overloaded stream input and output operators in most applications.  For guidance overloading as bit-manipulation operators, see the section below on Binary Arithmetic Operators.  For implementing your own custom format and parsing logic when your object is used with iostreams, continue.</p>

<p>The stream operators, among the most commonly overloaded operators, are binary infix operators for which the syntax specifies no restriction on whether they should be members or non-members.
Since they change their left argument (they alter the stream’s state), they should, according to the rules of thumb, be implemented as members of their left operand’s type. However, their left operands are streams from the standard library, and while most of the stream output and input operators defined by the standard library are indeed defined as members of the stream classes, when you implement output and input operations for your own types, you cannot change the standard library’s stream types. That’s why you need to implement these operators for your own types as non-member functions.
The canonical forms of the two are these:</p>

<pre><code>std::ostream&amp; operator&lt;&lt;(std::ostream&amp; os, const T&amp; obj)
{
  // write obj to stream

  return os;
}

std::istream&amp; operator&gt;&gt;(std::istream&amp; is, T&amp; obj)
{
  // read obj from stream

  if( /* no valid object of T found in stream */ )
    is.setstate(std::ios::failbit);

  return is;
}
</code></pre>

<p>When implementing <code>operator&gt;&gt;</code>, manually setting the stream’s state is only necessary when the reading itself succeeded, but the result is not what would be expected.</p>

<h2>Function call operator</h2>

<p>The function call operator, used to create function objects, also known as functors, must be defined as a <strong><em>member</em></strong> function, so it always has the implicit <code>this</code> argument of member functions. Other than this it can be overloaded to take any number of additional arguments, including zero.</p>

<p>Throughout the C++ standard library, function objects are always copied. Your own function objects should therefore be cheap to copy. If a function object absolutely needs to use data which is expensive to copy, it is better to store that data elsewhere and have the function object refer to it.</p>

<h2>Comparison operators</h2>

<p>The binary infix comparison operators should, according to the rules of thumb, be implemented as non-member functions<sup>1</sup>. The unary prefix negation <code>!</code> should (according to the same rules) be implemented as a member function. (but it is usually not a good idea to overload it.)</p>

<p>The standard library’s algorithms (e.g. <code>std::sort()</code>) and types (e.g. <code>std::map</code>) will always only expect <code>operator&lt;</code> to be present. However, the <em>users of your type will expect all the other operators to be present</em>, too, so if you define <code>operator&lt;</code>, be sure to follow the third fundamental rule of operator overloading and also define all the other boolean comparison operators. The canonical way to implement them is this:</p>

<pre><code>inline bool operator==(const X&amp; lhs, const X&amp; rhs){ /* do actual comparison */ }
inline bool operator!=(const X&amp; lhs, const X&amp; rhs){return !operator==(lhs,rhs);}
inline bool operator&lt; (const X&amp; lhs, const X&amp; rhs){ /* do actual comparison */ }
inline bool operator&gt; (const X&amp; lhs, const X&amp; rhs){return  operator&lt; (rhs,lhs);}
inline bool operator&lt;=(const X&amp; lhs, const X&amp; rhs){return !operator&gt; (lhs,rhs);}
inline bool operator&gt;=(const X&amp; lhs, const X&amp; rhs){return !operator&lt; (lhs,rhs);}
</code></pre>

<p>The important thing to note here is that only two of these operators actually do anything, the others are just forwarding their arguments to either of these two to do the actual work.</p>

<p>The syntax for overloading the remaining binary boolean operators (<code>||</code>, <code>&amp;&amp;</code>) follows the rules of the comparison operators. However, it is <em>very</em> unlikely that you would find a reasonable use case for these<sup>2</sup>.</p>

<p><sup>1</sup> <sub>As with all rules of thumb, sometimes there might be reasons to break this one, too. If so, do not forget that the left-hand operand of the binary comparison operators, which for member functions will be <code>*this</code>, needs to be <code>const</code>, too. So a comparison operator implemented as a member function would have to have this signature:</sub></p>

<pre><code>bool operator&lt;(const X&amp; rhs) const { /* do actual comparison with *this */ }
</code></pre>

<p><sub>(Note the <code>const</code> at the end.)</sub></p>

<p><sup>2</sup> <sub>It should be noted that the built-in version of <code>||</code> and <code>&amp;&amp;</code> use shortcut semantics. While the user defined ones (because they are syntactic sugar for method calls) do not use shortcut semantics. User will expect these operators to have shortcut semantics, and their code may depend on it, Therefore it is highly advised NEVER to define them.</sub></p>

<h2>Arithmetic Operators</h2>

<h3>Unary arithmetic operators</h3>

<p>The unary increment and decrement operators come in both prefix and postfix flavor. To tell one from the other, the postfix variants take an additional dummy int argument. If you overload increment or decrement, be sure to always implement both prefix and postfix versions.
Here is the canonical implementation of increment, decrement follows the same rules:</p>

<pre><code>class X {
  X&amp; operator++()
  {
    // do actual increment
    return *this;
  }
  X operator++(int)
  {
    X tmp(*this);
    operator++();
    return tmp;
  }
};
</code></pre>

<p>Note that the postfix variant is implemented in terms of prefix. Also note that postfix does an extra copy.<sup>2</sup></p>

<p>Overloading unary minus and plus is not very common and probably best avoided. If needed, they should probably be overloaded as member functions. </p>

<p><sup>2</sup> <sub>Also note that the postfix variant does more work and is therefore less efficient to use than the prefix variant. This is a good reason to generally prefer prefix increment over postfix increment. While compilers can usually optimize away the additional work of postfix increment for built-in types, they might not be able to do the same for user-defined types (which could be something as innocently looking as a list iterator). Once you got used to do <code>i++</code>, it becomes very hard to remember to do <code>++i</code> instead when <code>i</code> is not of a built-in type (plus you'd have to change code when changing a type), so it is better to make a habit of always using prefix increment, unless postfix is explicitly needed.</sub></p>

<h3>Binary arithmetic operators</h3>

<p>For the binary arithmetic operators, do not forget to obey the third basic rule operator overloading: If you provide <code>+</code>, also provide <code>+=</code>, if you provide <code>-</code>, do not omit <code>-=</code>, etc. Andrew Koenig is said to have been the first to observe that the compound assignment operators can be used as a base for their non-compound counterparts. That is, operator <code>+</code> is implemented in terms of <code>+=</code>, <code>-</code> is implemented in terms of <code>-=</code> etc.</p>

<p>According to our rules of thumb, <code>+</code> and its companions should be non-members, while their compound assignment counterparts (<code>+=</code> etc.), changing their left argument, should be a member. Here is the exemplary code for <code>+=</code> and <code>+</code>, the other binary arithmetic operators should be implemented in the same way:</p>

<pre><code>class X {
  X&amp; operator+=(const X&amp; rhs)
  {
    // actual addition of rhs to *this
    return *this;
  }
};
inline X operator+(X lhs, const X&amp; rhs)
{
  lhs += rhs;
  return lhs;
}
</code></pre>

<p><code>operator+=</code> returns its result per reference, while <code>operator+</code> returns a copy of its result. Of course, returning a reference is usually more efficient than returning a copy, but in the case of <code>operator+</code>, there is no way around the copying. When you write <code>a + b</code>, you expect the result to be a new value, which is why <code>operator+</code> has to return a new value.<sup>3</sup>
Also note that <code>operator+</code> takes its left operand <strong><em>by copy</em></strong> rather than by const reference. The reason for this is the same as the reason giving for <code>operator=</code> taking its argument per copy.</p>

<p>The bit manipulation operators <code>~</code> <code>&amp;</code> <code>|</code> <code>^</code> <code>&lt;&lt;</code> <code>&gt;&gt;</code> should be implemented in the same way as the arithmetic operators. However, (except for overloading <code>&lt;&lt;</code> and <code>&gt;&gt;</code> for output and input) there are very few reasonable use cases for overloading these.</p>

<p><sup>3</sup> <sub>Again, the lesson to be taken from this is that <code>a += b</code> is, in general, more efficient than <code>a + b</code> and should be preferred if possible.</sub></p>

<h2>Array Subscripting</h2>

<p>The array subscript operator is a binary operator which must be implemented as a class member. It is used for container-like types that allow access to their data elements by a key.
The canonical form of providing these is this:</p>

<pre><code>class X {
        value_type&amp; operator[](index_type idx);
  const value_type&amp; operator[](index_type idx) const;
  // ...
};
</code></pre>

<p>Unless you do not want users of your class to be able to change data elements returned by <code>operator[]</code> (in which case you can omit the non-const variant), you should always provide both variants of the operator.</p>

<p>If value_type is known to refer to a built-in type, the const variant of the operator should return a copy instead of a const reference.</p>

<h2>Operators for Pointer-like Types</h2>

<p>For defining your own iterators or smart pointers, you have to overload the unary prefix dereference operator <code>*</code> and the binary infix pointer member access operator <code>-&gt;</code>:</p>

<pre><code>class my_ptr {
        value_type&amp; operator*();
  const value_type&amp; operator*() const;
        value_type* operator-&gt;();
  const value_type* operator-&gt;() const;
};
</code></pre>

<p>Note that these, too, will almost always need both a const and a non-const version.
For the <code>-&gt;</code> operator, if <code>value_type</code> is of <code>class</code> (or <code>struct</code> or <code>union</code>) type, another <code>operator-&gt;()</code> is called recursively, until an <code>operator-&gt;()</code> returns a value of non-class type.</p>

<p>The unary address-of operator should never be overloaded.</p>

<p>For <code>operator-&gt;*()</code> see <a href="https://stackoverflow.com/q/8777845/140719">this question</a>. It's rarely used and thus rarely ever overloaded. In fact, even iterators do not overload it.</p>

<hr>

<p>Continue to <a href="https://stackoverflow.com/questions/4421706/operator-overloading/16615725#16615725">Conversion Operators</a></p>
    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/4421719" title="short permalink to this answer" class="short-link" id="link-post-4421719">share</a><span class="lsep">|</span><a href="/posts/4421719/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info user-hover">
    <div class="user-action-time">
        <a href="/posts/4421719/revisions" title="show all edits to this post">edited <span title="2017-05-23 11:47:32Z" class="relativetime">May 23 at 11:47</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="/users/-1/community"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/a007be5a61f6aa8f3e85ae2fc18dd66e?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/-1/community">Community</a><span class="mod-flair" title="moderator">&#9830;</span>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">1</span><span title="1 silver badge"><span class="badge2"></span><span class="badgecount">1</span></span>
        </div>
    </div>
</div>    </td>
            


    <td align="right" class="post-signature owner">   
       

    <div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2010-12-12 12:47:05Z" class="relativetime">Dec 12 '10 at 12:47</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/140719/sbi"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/84a6aa25ee85e948123d97b672135526?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/140719/sbi">sbi</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 145,286" dir="ltr">145k</span><span title="36 gold badges"><span class="badge1"></span><span class="badgecount">36</span></span><span title="189 silver badges"><span class="badge2"></span><span class="badgecount">189</span></span><span title="363 bronze badges"><span class="badge3"></span><span class="badgecount">363</span></span>
        </div>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-4421719" class="comments ">
		    <table>
                <tbody data-remaining-comments-count="61"
                       data-canpost="false"
                       data-cansee="true"
                       data-comments-unavailable="false"
                       data-addlink-disabled="true">



    <tr id="comment-5687557" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="supernova">55</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy"><code>operator-&gt;()</code> is actually <i>extremely</i> weird.  It&#39;s not required to return a <code>value_type*</code> -- in fact, it can return another class type, <b>provided that class type has an <code>operator-&gt;()</code></b>, which will then be called subsequently.  This recursive calling of <code>operator-&gt;()</code>s proceeds until a <code>value_type*</code> return type occurs.  Madness!  :)</span>
                    &ndash;&nbsp;<a href="/users/47984/j-random-hacker"
                       title="40,090 reputation"
                       class="comment-user">j_random_hacker</a>
                <span class="comment-date" dir="ltr"><span title="2011-02-22 11:20:04Z" class="relativetime-clean">Feb 22 '11 at 11:20</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-25865292" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">4</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">One comment: The implementation of binary arithmetic operators suggested is not such efficient as it can be. Se Boost operators headers simmetry note: <a href="http://www.boost.org/doc/libs/1_54_0/libs/utility/operators.htm#symmetry" rel="nofollow noreferrer">boost.org/doc/libs/1_54_0/libs/utility/operators.htm#symmetr&zwnj;&#8203;y</a> One more copy can be avoided if you use a local copy of the first parameter, do +=, and return the local copy. This enables NRVO optimization.</span>
                    &ndash;&nbsp;<a href="/users/1609356/manu343726"
                       title="10,900 reputation"
                       class="comment-user">Manu343726</a>
                <span class="comment-date" dir="ltr"><span title="2013-07-19 08:36:03Z" class="relativetime-clean">Jul 19 '13 at 8:36</span></span>
                        <span class="edited-yes" title="this comment was edited 1 time"></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-28587135" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">2</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">As I mentioned in the chat, <code>L &lt;= R</code> can also be expressed as <code>!(R &lt; L)</code> instead of <code>!(L &gt; R)</code>. Might save an extra layer of inlining in hard-to-optimize expressions (and it&#39;s also how Boost.Operators implements it).</span>
                    &ndash;&nbsp;<a href="/users/819272/templaterex"
                       title="48,073 reputation"
                       class="comment-user">TemplateRex</a>
                <span class="comment-date" dir="ltr"><span title="2013-10-10 18:24:42Z" class="relativetime-clean">Oct 10 '13 at 18:24</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-30411447" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">1</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@thomthom: If a class doesn&#39;t have a publicly accessible API for getting at its state, you will have to either make everything that needs to access its state a member or a <code>friend</code> of the class. This, of course, is also true for all operators.</span>
                    &ndash;&nbsp;<a href="/users/140719/sbi"
                       title="145,286 reputation"
                       class="comment-user owner">sbi</a>
                <span class="comment-date" dir="ltr"><span title="2013-12-04 08:12:44Z" class="relativetime-clean">Dec 4 '13 at 8:12</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-36517305" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">1</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@mindandsky At least one of the arguments must be a user-defined type. Otherwise you&#39;re free, syntactically. But commonly it&#39;s overloaded for streams, that&#39;s why I used that as an example.</span>
                    &ndash;&nbsp;<a href="/users/140719/sbi"
                       title="145,286 reputation"
                       class="comment-user owner">sbi</a>
                <span class="comment-date" dir="ltr"><span title="2014-05-20 05:49:49Z" class="relativetime-clean">May 20 '14 at 5:49</span></span>
                                                                            </div>
                    </td>
    </tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-4421719" data-rep=50 data-anon=true>

                <a class="js-add-link comments-link  dno"
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."
                   ></a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link " title="expand to show all comments on this post" href=# onclick="">show <b>61</b> more comments</a>
        </div>         
    </td>
</tr>    </table>
</div>
<div class="everyonelovesstackoverflow" id="clc-mlb"></div>
  
<a name="4421708"></a>
<div id="answer-4421708" class="answer" data-answerid="4421708"  itemscope itemtype="http://schema.org/Answer">
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="4421708">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">392</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>




</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<h1>The Three Basic Rules of Operator Overloading in C++</h1>

<p>When it comes to operator overloading in C++, there are <strong><em>three basic rules you should follow</em></strong>. As with all such rules, there are indeed exceptions. Sometimes people have deviated from them and the outcome was not bad code, but such positive deviations are few and far between. At the very least, 99 out of 100 such deviations I have seen were unjustified. However, it might just as well have been 999 out of 1000. So you’d better stick to the following rules. </p>

<ol>
<li><p><strong><em>Whenever the meaning of an operator is not obviously clear and undisputed, it should not be overloaded.</em></strong> <em>Instead, provide a function with a well-chosen name.</em><br>
Basically, the first and foremost rule for overloading operators, at its very heart, says: <em>Don’t do it</em>. That might seem strange, because there is a lot to be known about operator overloading and so a lot of articles, book chapters, and other texts deal with all this. But despite this seemingly obvious evidence, <em>there are only a surprisingly few cases where operator overloading is appropriate</em>. The reason is that actually it is hard to understand the semantics behind the application of an operator unless the use of the operator in the application domain is well known and undisputed. Contrary to popular belief, this is hardly ever the case.  </p></li>
<li><p><strong><em>Always stick to the operator’s well-known semantics.</em></strong><br>
C++ poses no limitations on the semantics of overloaded operators. Your compiler will happily accept code that implements the binary <code>+</code> operator to subtract from its right operand. However, the users of such an operator would never suspect the expression <code>a + b</code> to subtract <code>a</code> from <code>b</code>. Of course, this supposes that the semantics of the operator in the application domain is undisputed. </p></li>
<li><p><strong><em>Always provide all out of a set of related operations.</em></strong><br>
<em>Operators are related to each other</em> and to other operations. If your type supports <code>a + b</code>, users will expect to be able to call <code>a += b</code>, too. If it supports prefix increment <code>++a</code>, they will expect <code>a++</code> to work as well. If they can check whether <code>a &lt; b</code>, they will most certainly expect to also to be able to check whether <code>a &gt; b</code>. If they can copy-construct your type, they expect assignment to work as well. </p></li>
</ol>

<hr>

<p>Continue to <a href="https://stackoverflow.com/questions/4421706/operator-overloading-in-c/4421729#4421729">The Decision between Member and Non-member</a>.</p>
    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/4421708" title="short permalink to this answer" class="short-link" id="link-post-4421708">share</a><span class="lsep">|</span><a href="/posts/4421708/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info user-hover">
    <div class="user-action-time">
        <a href="/posts/4421708/revisions" title="show all edits to this post">edited <span title="2017-05-23 12:34:53Z" class="relativetime">May 23 at 12:34</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="/users/-1/community"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/a007be5a61f6aa8f3e85ae2fc18dd66e?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/-1/community">Community</a><span class="mod-flair" title="moderator">&#9830;</span>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">1</span><span title="1 silver badge"><span class="badge2"></span><span class="badgecount">1</span></span>
        </div>
    </div>
</div>    </td>
            


    <td align="right" class="post-signature owner">   
       

    <div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2010-12-12 12:45:14Z" class="relativetime">Dec 12 '10 at 12:45</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/140719/sbi"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/84a6aa25ee85e948123d97b672135526?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/140719/sbi">sbi</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 145,286" dir="ltr">145k</span><span title="36 gold badges"><span class="badge1"></span><span class="badgecount">36</span></span><span title="189 silver badges"><span class="badge2"></span><span class="badgecount">189</span></span><span title="363 bronze badges"><span class="badge3"></span><span class="badgecount">363</span></span>
        </div>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-4421708" class="comments ">
		    <table>
                <tbody data-remaining-comments-count="42"
                       data-canpost="false"
                       data-cansee="true"
                       data-comments-unavailable="false"
                       data-addlink-disabled="true">



    <tr id="comment-4826098" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="warm">12</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">The only thing of which I am aware which violates any of these is <code>boost::spirit</code> lol.</span>
                    &ndash;&nbsp;<a href="/users/82320/billy-oneal"
                       title="65,927 reputation"
                       class="comment-user">Billy ONeal</a>
                <span class="comment-date" dir="ltr"><span title="2010-12-12 17:50:52Z" class="relativetime-clean">Dec 12 '10 at 17:50</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-4827006" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="supernova">56</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@Billy: According to some, abusing <code>+</code> for string concatenation is a violation, but it has by now become well established praxis, so that it seems natural. Although I do remember a home-brew string class I saw in the 90ies that used binary <code>&amp;</code> for this purpose (referring to BASIC for established praxis). But, yeah, putting it into the std lib basically set this in stone. The same goes for abusing <code>&lt;&lt;</code> and <code>&gt;&gt;</code> for IO, BTW. Why would left-shifting be the obvious output operation? Because we all learned about it when we saw our first &quot;Hello, world!&quot; application. And for no other reason.</span>
                    &ndash;&nbsp;<a href="/users/140719/sbi"
                       title="145,286 reputation"
                       class="comment-user owner">sbi</a>
                <span class="comment-date" dir="ltr"><span title="2010-12-12 19:56:25Z" class="relativetime-clean">Dec 12 '10 at 19:56</span></span>
                        <span class="edited-yes" title="this comment was edited 1 time"></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-10307212" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">4</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@curiousguy: If you have to explain it, it&#39;s not obviously clear and undisputed. Likewise if you need to discuss or defend the overloading.</span>
                    &ndash;&nbsp;<a href="/users/140719/sbi"
                       title="145,286 reputation"
                       class="comment-user owner">sbi</a>
                <span class="comment-date" dir="ltr"><span title="2011-12-02 12:09:36Z" class="relativetime-clean">Dec 2 '11 at 12:09</span></span>
                        <span class="edited-yes" title="this comment was edited 1 time"></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-12900400" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">3</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@sbi: &quot;peer review&quot; is always a good idea.  To me a badly choosen operator is not different from a badly choosen function name (I saw many).  Operator are just functions. No more no less. Rules are just the same. And to understand if an idea is good, the best way is understand how long does it takes to be understood. (Hence, peer review is a must, but peers must be chosen between people free from dogmas and prejudice.)</span>
                    &ndash;&nbsp;<a href="/users/924727/emilio-garavaglia"
                       title="14,603 reputation"
                       class="comment-user">Emilio Garavaglia</a>
                <span class="comment-date" dir="ltr"><span title="2012-04-09 16:57:00Z" class="relativetime-clean">Apr 9 '12 at 16:57</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-12909033" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">3</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@sbi To me, the only absolutely obvious and indisputable fact about <code>operator==</code> is that it should be an equivalence relation (IOW, you should not use non signaling NaN). There are many useful equivalence relations on containers. What does equality means? &quot;<code>a</code> equals <code>b</code>&quot; means that <code>a</code> and <code>b</code> have the same mathematical value. The concept of mathematical value of a (non-NaN) <code>float</code> is clear, but the mathematical value of a container can have many distinct (type recursive) useful definitions. The strongest definition of equality is &quot;they are the same objects&quot;, and it is useless.</span>
                    &ndash;&nbsp;<a href="/users/963864/curiousguy"
                       title="3,959 reputation"
                       class="comment-user">curiousguy</a>
                <span class="comment-date" dir="ltr"><span title="2012-04-10 00:49:11Z" class="relativetime-clean">Apr 10 '12 at 0:49</span></span>
                                                                            </div>
                    </td>
    </tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-4421708" data-rep=50 data-anon=true>

                <a class="js-add-link comments-link  dno"
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."
                   ></a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link " title="expand to show all comments on this post" href=# onclick="">show <b>42</b> more comments</a>
        </div>         
    </td>
</tr>    </table>
</div>

  
<a name="4421715"></a>
<div id="answer-4421715" class="answer" data-answerid="4421715"  itemscope itemtype="http://schema.org/Answer">
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="4421715">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">206</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>




</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<h1>The General Syntax of operator overloading in C++</h1>

<p>You cannot change the meaning of operators for built-in types in C++, operators can only be overloaded for user-defined types<sup>1</sup>. That is, at least one of the operands has to be of a user-defined type. As with other overloaded functions, operators can be overloaded for a certain set of parameters only once. </p>

<p>Not all operators can be overloaded in C++. Among the operators that cannot be overloaded are: <code>.</code> <code>::</code> <code>sizeof</code> <code>typeid</code> <code>.*</code> and the only ternary operator in C++, <code>?:</code> </p>

<p>Among the operators that can be overloaded in C++ are these: </p>

<ul>
<li>arithmetic operators: <code>+</code> <code>-</code> <code>*</code> <code>/</code> <code>%</code> and <code>+=</code> <code>-=</code> <code>*=</code> <code>/=</code> <code>%=</code> (all binary infix); <code>+</code> <code>-</code> (unary prefix); <code>++</code> <code>--</code> (unary prefix and postfix) </li>
<li>bit manipulation: <code>&amp;</code> <code>|</code> <code>^</code> <code>&lt;&lt;</code> <code>&gt;&gt;</code> and <code>&amp;=</code> <code>|=</code> <code>^=</code> <code>&lt;&lt;=</code> <code>&gt;&gt;=</code> (all binary infix); <code>~</code> (unary prefix) </li>
<li>boolean algebra: <code>==</code> <code>!=</code> <code>&lt;</code> <code>&gt;</code> <code>&lt;=</code> <code>&gt;=</code> <code>||</code> <code>&amp;&amp;</code> (all binary infix); <code>!</code> (unary prefix)</li>
<li>memory management: <code>new</code> <code>new[]</code> <code>delete</code> <code>delete[]</code></li>
<li>implicit conversion operators</li>
<li>miscellany: <code>=</code> <code>[]</code> <code>-&gt;</code> <code>-&gt;*</code> <code>,</code>  (all binary infix); <code>*</code> <code>&amp;</code> (all unary prefix) <code>()</code> (function call, n-ary infix) </li>
</ul>

<p>However, the fact that you <em>can</em> overload all of these does not mean you <em>should</em> do so. See the basic rules of operator overloading.</p>

<p>In C++, operators are overloaded in the form of <strong><em>functions with special names</em></strong>. As with other functions, overloaded operators can generally be implemented either as a <strong><em>member function of their left operand's type</em></strong> or as <strong><em>non-member functions</em></strong>. Whether you are free to choose or bound to use either one depends on several criteria.<sup>2</sup> A unary operator <code>@</code><sup>3</sup>, applied to an object x, is invoked either as <code>operator@(x)</code> or as <code>x.operator@()</code>. A binary infix operator <code>@</code>, applied to the objects <code>x</code> and <code>y</code>, is called either as <code>operator@(x,y)</code> or as <code>x.operator@(y)</code>.<sup>4</sup> </p>

<p>Operators that are implemented as non-member functions are sometimes friend of their operand’s type. </p>

<p><sup>1</sup> <sub>The term “user-defined” might be slightly misleading. C++ makes the distinction between built-in types and user-defined types. To the former belong for example int, char, and double; to the latter belong all struct, class, union, and enum types, including those from the standard library, even though they are not, as such, defined by users.</sub></p>

<p><sup>2</sup> <sub>This is covered in <a href="https://stackoverflow.com/questions/4421706/operator-overloading/4421729#4421729">a later part</a> of this FAQ.</sub></p>

<p><sup>3</sup> <sub>The <code>@</code> is not a valid operator in C++ which is why I use it as a placeholder.</sub></p>

<p><sup>4</sup> <sub>The only ternary operator in C++ cannot be overloaded and the only n-ary operator must always be implemented as a member function.</sub></p>

<hr>

<p>Continue to <a href="https://stackoverflow.com/questions/4421706/operator-overloading-in-c/4421708#4421708">The Three Basic Rules of Operator Overloading in C++</a>. </p>
    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/4421715" title="short permalink to this answer" class="short-link" id="link-post-4421715">share</a><span class="lsep">|</span><a href="/posts/4421715/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info user-hover">
    <div class="user-action-time">
        <a href="/posts/4421715/revisions" title="show all edits to this post">edited <span title="2017-05-23 12:18:28Z" class="relativetime">May 23 at 12:18</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="/users/-1/community"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/a007be5a61f6aa8f3e85ae2fc18dd66e?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/-1/community">Community</a><span class="mod-flair" title="moderator">&#9830;</span>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">1</span><span title="1 silver badge"><span class="badge2"></span><span class="badgecount">1</span></span>
        </div>
    </div>
</div>    </td>
            


    <td align="right" class="post-signature owner">   
       

    <div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2010-12-12 12:46:30Z" class="relativetime">Dec 12 '10 at 12:46</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/140719/sbi"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/84a6aa25ee85e948123d97b672135526?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/140719/sbi">sbi</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 145,286" dir="ltr">145k</span><span title="36 gold badges"><span class="badge1"></span><span class="badgecount">36</span></span><span title="189 silver badges"><span class="badge2"></span><span class="badgecount">189</span></span><span title="363 bronze badges"><span class="badge3"></span><span class="badgecount">363</span></span>
        </div>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-4421715" class="comments ">
		    <table>
                <tbody data-remaining-comments-count="5"
                       data-canpost="false"
                       data-cansee="true"
                       data-comments-unavailable="false"
                       data-addlink-disabled="true">



    <tr id="comment-10285707" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">3</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy"><code>%=</code> is not a &quot;bit manipulation&quot; operator</span>
                    &ndash;&nbsp;<a href="/users/963864/curiousguy"
                       title="3,959 reputation"
                       class="comment-user">curiousguy</a>
                <span class="comment-date" dir="ltr"><span title="2011-12-01 12:26:48Z" class="relativetime-clean">Dec 1 '11 at 12:26</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-17953788" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy"><code>~</code> is unary prefix, not binary infix.</span>
                    &ndash;&nbsp;<a href="/users/228142/mrkj"
                       title="2,350 reputation"
                       class="comment-user">mrkj</a>
                <span class="comment-date" dir="ltr"><span title="2012-11-02 05:15:27Z" class="relativetime-clean">Nov 2 '12 at 5:15</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-50435126" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">1</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy"><code>.*</code> is missing from the list of non-overloadable operators.</span>
                    &ndash;&nbsp;<a href="/users/1502810/celticminstrel"
                       title="1,122 reputation"
                       class="comment-user">celticminstrel</a>
                <span class="comment-date" dir="ltr"><span title="2015-07-04 05:35:17Z" class="relativetime-clean">Jul 4 '15 at 5:35</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-50449187" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@celticminstrel: Indeed, and nobody noticed for 4.5 years... Thanks for pointing it out, I put it in.</span>
                    &ndash;&nbsp;<a href="/users/140719/sbi"
                       title="145,286 reputation"
                       class="comment-user owner">sbi</a>
                <span class="comment-date" dir="ltr"><span title="2015-07-04 19:56:02Z" class="relativetime-clean">Jul 4 '15 at 19:56</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-50450178" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy"><i>non-overloadable</i>! So, up there with <code>.</code> and <code>::</code>. And, it&#39;s probably because most people never use pointers-to-members.</span>
                    &ndash;&nbsp;<a href="/users/1502810/celticminstrel"
                       title="1,122 reputation"
                       class="comment-user">celticminstrel</a>
                <span class="comment-date" dir="ltr"><span title="2015-07-04 21:11:55Z" class="relativetime-clean">Jul 4 '15 at 21:11</span></span>
                                                                            </div>
                    </td>
    </tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-4421715" data-rep=50 data-anon=true>

                <a class="js-add-link comments-link  dno"
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."
                   ></a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link " title="expand to show all comments on this post" href=# onclick="">show <b>5</b> more comments</a>
        </div>         
    </td>
</tr>    </table>
</div>

  
<a name="4421729"></a>
<div id="answer-4421729" class="answer" data-answerid="4421729"  itemscope itemtype="http://schema.org/Answer">
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="4421729">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">192</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>




</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<h2>The Decision between Member and Non-member</h2>

<p>The binary operators <code>=</code> (assignment), <code>[]</code> (array subscription), <code>-&gt;</code> (member access), as well as the n-ary <code>()</code> (function call) operator, must always be implemented as <strong><em>member functions</em></strong>, because the syntax of the language requires them to. </p>

<p>Other operators can be implemented either as members or as non-members. Some of them, however, usually have to be implemented as non-member functions, because their left operand cannot be modified by you. The most prominent of these are the input and output operators <code>&lt;&lt;</code> and <code>&gt;&gt;</code>, whose left operands are stream classes from the standard library which you cannot change. </p>

<p>For all operators where you have to choose to either implement them as a member function or a non-member function, <strong><em>use the following rules of thumb</em></strong> to decide: </p>

<ol>
<li>If it is a <strong><em>unary operator</em></strong>, implement it as a <strong><em>member</em></strong> function. </li>
<li>If a binary operator treats <strong><em>both operands equally</em></strong> (it leaves them unchanged), implement this operator as a <strong><em>non-member</em></strong> function. </li>
<li>If a binary operator does <strong><em>not</em></strong> treat both of its operands <strong><em>equally</em></strong> (usually it will change its left operand), it might be useful to make it a <strong><em>member</em></strong> function of its left operand’s type, if it has to access the operand's private parts. </li>
</ol>

<p>Of course, as with all rules of thumb, there are exceptions. If you have a type </p>

<pre><code>enum Month {Jan, Feb, ..., Nov, Dec}
</code></pre>

<p>and you want to overload the increment and decrement operators for it, you cannot do this as a member functions, since in C++, enum types cannot have member functions. So you have to overload it as a free function. And <code>operator&lt;()</code> for a class template nested within a class template is much easier to write and read when done as a member function inline in the class definition. But these are indeed rare exceptions. </p>

<p>(However, <em>if</em> you make an exception, do not forget the issue of <code>const</code>-ness for the operand that, for member functions, becomes the implicit <code>this</code> argument. If the operator as a non-member function would take its left-most argument as a <code>const</code> reference, the same operator as a member function needs to have a <code>const</code> at the end to make <code>*this</code> a <code>const</code> reference.) </p>

<hr>

<p>Continue to <a href="https://stackoverflow.com/questions/4421706/operator-overloading-in-c/4421719#4421719">Common operators to overload</a>.</p>
    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/4421729" title="short permalink to this answer" class="short-link" id="link-post-4421729">share</a><span class="lsep">|</span><a href="/posts/4421729/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info user-hover">
    <div class="user-action-time">
        <a href="/posts/4421729/revisions" title="show all edits to this post">edited <span title="2017-05-23 11:55:13Z" class="relativetime">May 23 at 11:55</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="/users/-1/community"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/a007be5a61f6aa8f3e85ae2fc18dd66e?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/-1/community">Community</a><span class="mod-flair" title="moderator">&#9830;</span>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">1</span><span title="1 silver badge"><span class="badge2"></span><span class="badgecount">1</span></span>
        </div>
    </div>
</div>    </td>
            


    <td align="right" class="post-signature owner">   
       

    <div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2010-12-12 12:49:13Z" class="relativetime">Dec 12 '10 at 12:49</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/140719/sbi"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/84a6aa25ee85e948123d97b672135526?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/140719/sbi">sbi</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 145,286" dir="ltr">145k</span><span title="36 gold badges"><span class="badge1"></span><span class="badgecount">36</span></span><span title="189 silver badges"><span class="badge2"></span><span class="badgecount">189</span></span><span title="363 bronze badges"><span class="badge3"></span><span class="badgecount">363</span></span>
        </div>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-4421729" class="comments ">
		    <table>
                <tbody data-remaining-comments-count="28"
                       data-canpost="false"
                       data-cansee="true"
                       data-comments-unavailable="false"
                       data-addlink-disabled="true">



    <tr id="comment-4824656" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="warm">5</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">Herb Sutter&#39;s item in Effective C++ (or is it C++ Coding Standards?) says one should prefer non-member non-friend functions to member functions, to increase the encapsulation of the class. IMHO, the encapsulation reason takes precedence to your rule of thumb, but it does not decrease the quality value of your rule of thumb.</span>
                    &ndash;&nbsp;<a href="/users/14089/paercebal"
                       title="56,382 reputation"
                       class="comment-user">paercebal</a>
                <span class="comment-date" dir="ltr"><span title="2010-12-12 13:36:08Z" class="relativetime-clean">Dec 12 '10 at 13:36</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-4824674" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">3</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@paercebal: <i>Effective C++</i> is by Meyers, <i>C++ Coding Standards</i> by Sutter. Which one are you referring to? Anyway, I dislike the idea of, say, <code>operator+=()</code> not being a member. It has to change its left-hand operand, so by definition it has to dig deep into its innards. What would you gain by not making it a member?</span>
                    &ndash;&nbsp;<a href="/users/140719/sbi"
                       title="145,286 reputation"
                       class="comment-user owner">sbi</a>
                <span class="comment-date" dir="ltr"><span title="2010-12-12 13:39:35Z" class="relativetime-clean">Dec 12 '10 at 13:39</span></span>
                        <span class="edited-yes" title="this comment was edited 1 time"></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-4825356" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="warm">6</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@sbi: Item 44 in C++ Coding Standards (Sutter) <b>Prefer writing nonmember nonfriend functions</b>, of course, it only applies if you can actually write this function using only the public interface of the class. If you cannot (or can but it would hinder performance badly), then you have to make it either member or friend.</span>
                    &ndash;&nbsp;<a href="/users/147192/matthieu-m"
                       title="168,355 reputation"
                       class="comment-user">Matthieu M.</a>
                <span class="comment-date" dir="ltr"><span title="2010-12-12 15:45:00Z" class="relativetime-clean">Dec 12 '10 at 15:45</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-4825732" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">2</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@sbi : Oops, Effective, Exceptional... No wonder I mix the names up. Anyway the gain is to limit as much as possible the number of functions that have access to an object private/protected data. This way, you increase the encapsulation of your class, making its maintenance/testing/evolution easier.</span>
                    &ndash;&nbsp;<a href="/users/14089/paercebal"
                       title="56,382 reputation"
                       class="comment-user">paercebal</a>
                <span class="comment-date" dir="ltr"><span title="2010-12-12 16:51:07Z" class="relativetime-clean">Dec 12 '10 at 16:51</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-4825781" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="warm">10</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@sbi : One example. Let&#39;s say you&#39;re coding a String class, with both the <code>operator +=</code> and the <code>append</code> methods. The <code>append</code> method is more complete, because you can append a substring of the parameter from index i to index n -1: <code>append(string, start, end)</code> It seems logical to have <code>+=</code> call append with <code>start = 0</code> and <code>end = string.size</code>. At that moment, append could be a member method, but <code>operator +=</code> doesn&#39;t need to be a member, and making it a non-member would decrease the quantity of code playing with the String innards, so it is a good thing.... ^_^ ...</span>
                    &ndash;&nbsp;<a href="/users/14089/paercebal"
                       title="56,382 reputation"
                       class="comment-user">paercebal</a>
                <span class="comment-date" dir="ltr"><span title="2010-12-12 16:58:09Z" class="relativetime-clean">Dec 12 '10 at 16:58</span></span>
                                                                            </div>
                    </td>
    </tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-4421729" data-rep=50 data-anon=true>

                <a class="js-add-link comments-link  dno"
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."
                   ></a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link " title="expand to show all comments on this post" href=# onclick="">show <b>28</b> more comments</a>
        </div>         
    </td>
</tr>    </table>
</div>

  
<a name="16615725"></a>
<div id="answer-16615725" class="answer" data-answerid="16615725"  itemscope itemtype="http://schema.org/Answer">
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="16615725">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">129</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>




</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<h1>Conversion Operators (also known as User Defined Conversions)</h1>

<p>In C++ you can create conversion operators, operators that allow the compiler to convert between your types and other defined types.  There are two types of conversion operators, implicit and explicit ones.</p>

<h2>Implicit Conversion Operators (C++98/C++03 and C++11)</h2>

<p>An implicit conversion operator allows the compiler to implicitly convert (like the conversion between <code>int</code> and <code>long</code>) the value of a user-defined type to some other type.</p>

<p>The following is a simple class with an implicit conversion operator:</p>

<pre><code>class my_string {
public:
  operator const char*() const {return data_;} // This is the conversion operator
private:
  const char* data_;
};
</code></pre>

<p>Implicit conversion operators, like one-argument constructors, are user-defined conversions. Compilers will grant one user-defined conversion when trying to match a call to an overloaded function.</p>

<pre><code>void f(const char*);

my_string str;
f(str); // same as f( str.operator const char*() )
</code></pre>

<p>At first this seems very helpful, but the problem with this is that the implicit conversion even kicks in when it isn’t expected to. In the following code, <code>void f(const char*)</code> will be called because <code>my_string()</code> is not an <a href="https://stackoverflow.com/questions/3601602/what-are-rvalues-lvalues-xvalues-glvalues-and-prvalues">lvalue</a>, so the first does not match:</p>

<pre><code>void f(my_string&amp;);
void f(const char*);

f(my_string());
</code></pre>

<p>Beginners easily get this wrong and even experienced C++ programmers are sometimes surprised because the compiler picks an overload they didn’t suspect.  These problems can be mitigated by explicit conversion operators.</p>

<h2>Explicit Conversion Operators (C++11)</h2>

<p>Unlike implicit conversion operators, explicit conversion operators will never kick in when you don't expect them to.  The following is a simple class with an explicit conversion operator:</p>

<pre><code>class my_string {
public:
  explicit operator const char*() const {return data_;}
private:
  const char* data_;
};
</code></pre>

<p>Notice the <code>explicit</code>.  Now when you try to execute the unexpected code from the implicit conversion operators, you get a compiler error:</p>

<pre>
prog.cpp: In function ‘int main()’:
prog.cpp:15:18: error: no matching function for call to ‘f(my_string)’
prog.cpp:15:18: note: candidates are:
prog.cpp:11:10: note: void f(my_string&)
prog.cpp:11:10: note:   no known conversion for argument 1 from ‘my_string’ to ‘my_string&’
prog.cpp:12:10: note: void f(const char*)
prog.cpp:12:10: note:   no known conversion for argument 1 from ‘my_string’ to ‘const char*’
</pre>

<p>To invoke the explicit cast operator, you have to use <code>static_cast</code>, a C-style cast, or a constructor style cast ( i.e. <code>T(value)</code> ).  </p>

<p>However, there is one exception to this:  The compiler is allowed to implicitly convert to <code>bool</code>.  In addition, the compiler is not allowed to do another implicit conversion after it converts to <code>bool</code> (a compiler is allowed to do 2 implicit conversions at a time, but only 1 user-defined conversion at max).  </p>

<p>Because the compiler will not cast "past" <code>bool</code>, explicit conversion operators now remove the need for the <a href="http://en.wikibooks.org/wiki/More_C%2B%2B_Idioms/Safe_bool" rel="nofollow noreferrer">Safe Bool idiom</a>.   For example, smart pointers before C++11 used the Safe Bool idiom to prevent conversions to integral types.  In C++11, the smart pointers use an explicit operator instead because the compiler is not allowed to implicitly convert to an integral type after it explicitly converted a type to bool.</p>

<p>Continue to <a href="https://stackoverflow.com/questions/4421706/operator-overloading-in-c/4421791#4421791">Overloading <code>new</code> and <code>delete</code></a>.</p>
    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/16615725" title="short permalink to this answer" class="short-link" id="link-post-16615725">share</a><span class="lsep">|</span><a href="/posts/16615725/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info user-hover">
    <div class="user-action-time">
        <a href="/posts/16615725/revisions" title="show all edits to this post">edited <span title="2017-05-23 12:26:29Z" class="relativetime">May 23 at 12:26</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="/users/-1/community"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/a007be5a61f6aa8f3e85ae2fc18dd66e?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/-1/community">Community</a><span class="mod-flair" title="moderator">&#9830;</span>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">1</span><span title="1 silver badge"><span class="badge2"></span><span class="badgecount">1</span></span>
        </div>
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2013-05-17 18:32:00Z" class="relativetime">May 17 '13 at 18:32</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/823682/jkor"><div class="gravatar-wrapper-32"><img src="https://i.stack.imgur.com/IABDf.jpg?s=32&amp;g=1" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/823682/jkor">JKor</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">2,946</span><span title="3 gold badges"><span class="badge1"></span><span class="badgecount">3</span></span><span title="18 silver badges"><span class="badge2"></span><span class="badgecount">18</span></span><span title="33 bronze badges"><span class="badge3"></span><span class="badgecount">33</span></span>
        </div>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-16615725" class="comments ">
		    <table>
                <tbody data-remaining-comments-count="0"
                       data-canpost="false"
                       data-cansee="true"
                       data-comments-unavailable="false"
                       data-addlink-disabled="true">



    <tr id="comment-23979199" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">1</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">Thank you very much, I consider this a fantastic addition to this FAQ! I have incorporated it into the TOC. I also made a very few small changes to your answer, hopefully improving it a bit by doing so. Feel free to roll them back if you disagree.</span>
                    &ndash;&nbsp;<a href="/users/140719/sbi"
                       title="145,286 reputation"
                       class="comment-user owner">sbi</a>
                <span class="comment-date" dir="ltr"><span title="2013-05-21 09:49:38Z" class="relativetime-clean">May 21 '13 at 9:49</span></span>
                        <span class="edited-yes" title="this comment was edited 1 time"></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-24003375" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">2</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">Thank you so much for the opportunity for me to add this to the FAQ!</span>
                    &ndash;&nbsp;<a href="/users/823682/jkor"
                       title="2,946 reputation"
                       class="comment-user">JKor</a>
                <span class="comment-date" dir="ltr"><span title="2013-05-21 22:10:22Z" class="relativetime-clean">May 21 '13 at 22:10</span></span>
                                                                            </div>
                    </td>
    </tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-16615725" data-rep=50 data-anon=true>

                <a class="js-add-link comments-link disabled-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."
                   >add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href=# onclick=""></a>
        </div>         
    </td>
</tr>    </table>
</div>

  
<a name="4421791"></a>
<div id="answer-4421791" class="answer" data-answerid="4421791"  itemscope itemtype="http://schema.org/Answer">
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="4421791">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">118</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>




</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<h1>Overloading <code>new</code> and <code>delete</code></h1>

<p><sup><strong><em>Note:</em></strong> This only deals with the <strong><em>syntax</em></strong> of overloading <code>new</code> and <code>delete</code>, not with the <strong><em>implementation</em></strong> of such overloaded operators. I think that the semantics of overloading <strong><em><a href="https://stackoverflow.com/questions/7149461/"><code>new</code> and <code>delete</code> deserve their own FAQ</a></em></strong>, within the topic of operator overloading I can never do it justice.</sup></p>

<h2>Basics</h2>

<p>In C++, when you write a <strong><em>new expression</em></strong> like <code>new T(arg)</code> two things happen when this expression is evaluated: First <strong><em><code>operator new</code></em></strong> is invoked to obtain raw memory, and then the appropriate constructor of <code>T</code> is invoked to turn this raw memory into a valid object. Likewise, when you delete an object, first its destructor is called, and then the memory is returned to <code>operator delete</code>.<br>
C++ allows you to tune both of these operations: memory management and the construction/destruction of the object at the allocated memory. The latter is done by writing constructors and destructors for a class. Fine-tuning memory management is done by writing your own <code>operator new</code> and <code>operator delete</code>. </p>

<p>The first of the basic rules of operator overloading – <em>don’t do it</em> – applies especially to overloading <code>new</code> and <code>delete</code>. Almost the only reasons to overload these operators are <strong><em>performance problems</em></strong> and <strong><em>memory constraints</em></strong>, and in many cases, other actions, like <em>changes to the algorithms</em> used, will provide a much <strong><em>higher cost/gain ratio</em></strong> than attempting to tweak memory management. </p>

<p>The C++ standard library comes with a set of predefined <code>new</code> and <code>delete</code> operators. The most important ones are these: </p>

<pre><code>void* operator new(std::size_t) throw(std::bad_alloc); 
void  operator delete(void*) throw(); 
void* operator new[](std::size_t) throw(std::bad_alloc); 
void  operator delete[](void*) throw(); 
</code></pre>

<p>The first two allocate/deallocate memory for an object, the latter two for an array of objects. If you provide your own versions of these, they will <strong><em>not overload, but replace</em></strong> the ones from the standard library.<br>
If you overload <code>operator new</code>, you should always also overload the matching <code>operator delete</code>, even if you never intend to call it. The reason is that, if a constructor throws during the evaluation of a new expression, the run-time system will return the memory to the <code>operator delete</code> matching the <code>operator new</code> that was called to allocate the memory to create the object in. If you do not provide a matching <code>operator delete</code>, the default one is called, which is almost always wrong.<br>
If you overload <code>new</code> and <code>delete</code>, you should consider overloading the array variants, too. </p>

<h2>Placement <code>new</code></h2>

<p>C++ allows new and delete operators to take additional arguments.<br>
So-called placement new allows you to create an object at a certain address which is passed to: </p>

<pre><code>class X { /* ... */ };
char buffer[ sizeof(X) ];
void f()
{ 
  X* p = new(buffer) X(/*...*/);
  // ... 
  p-&gt;~X(); // call destructor 
} 
</code></pre>

<p>The standard library comes with the appropriate overloads of the new and delete operators for this: </p>

<pre><code>void* operator new(std::size_t,void* p) throw(std::bad_alloc); 
void  operator delete(void* p,void*) throw(); 
void* operator new[](std::size_t,void* p) throw(std::bad_alloc); 
void  operator delete[](void* p,void*) throw(); 
</code></pre>

<p>Note that, in the example code for placement new given above, <code>operator delete</code> is never called, unless the constructor of X throws an exception. </p>

<p>You can also overload <code>new</code> and <code>delete</code> with other arguments. As with the additional argument for placement new, these arguments are also listed within parentheses after the keyword <code>new</code>. Merely for historical reasons, such variants are often also called placement new, even if their arguments are not for placing an object at a specific address. </p>

<h2>Class-specific new and delete</h2>

<p>Most commonly you will want to fine-tune memory management because measurement has shown that instances of a specific class, or of a group of related classes, are created and destroyed often and that the default memory management of the run-time system, tuned for general performance, deals inefficiently in this specific case. To improve this, you can overload new and delete for a specific class: </p>

<pre><code>class my_class { 
  public: 
    // ... 
    void* operator new();
    void  operator delete(void*,std::size_t);
    void* operator new[](size_t);
    void  operator delete[](void*,std::size_t);
    // ... 
}; 
</code></pre>

<p>Overloaded thus, new and delete behave like static member functions. For objects of <code>my_class</code>, the <code>std::size_t</code> argument will always be <code>sizeof(my_class)</code>. However, these operators are also called for dynamically allocated objects of <strong><em>derived classes</em></strong>, in which case it might be greater than that. </p>

<h2>Global new and delete</h2>

<p>To overload the global new and delete, simply replace the pre-defined operators of the standard library with our own. However, this is rarely ever needs to be done. </p>
    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/4421791" title="short permalink to this answer" class="short-link" id="link-post-4421791">share</a><span class="lsep">|</span><a href="/posts/4421791/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info user-hover">
    <div class="user-action-time">
        <a href="/posts/4421791/revisions" title="show all edits to this post">edited <span title="2017-05-23 11:47:32Z" class="relativetime">May 23 at 11:47</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="/users/-1/community"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/a007be5a61f6aa8f3e85ae2fc18dd66e?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/-1/community">Community</a><span class="mod-flair" title="moderator">&#9830;</span>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">1</span><span title="1 silver badge"><span class="badge2"></span><span class="badgecount">1</span></span>
        </div>
    </div>
</div>    </td>
            


    <td align="right" class="post-signature owner">   
       

    <div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2010-12-12 13:07:17Z" class="relativetime">Dec 12 '10 at 13:07</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/140719/sbi"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/84a6aa25ee85e948123d97b672135526?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/140719/sbi">sbi</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 145,286" dir="ltr">145k</span><span title="36 gold badges"><span class="badge1"></span><span class="badgecount">36</span></span><span title="189 silver badges"><span class="badge2"></span><span class="badgecount">189</span></span><span title="363 bronze badges"><span class="badge3"></span><span class="badgecount">363</span></span>
        </div>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-4421791" class="comments ">
		    <table>
                <tbody data-remaining-comments-count="10"
                       data-canpost="false"
                       data-cansee="true"
                       data-comments-unavailable="false"
                       data-addlink-disabled="true">



    <tr id="comment-4825143" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">3</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">-1 for the title which contradicts itself. You&#39;re confusing people. The standard forms don&#39;t get overloaded, they get replaced as you say.</span>
                    &ndash;&nbsp;<a href="/users/518287/yttrill"
                       title="3,171 reputation"
                       class="comment-user">Yttrill</a>
                <span class="comment-date" dir="ltr"><span title="2010-12-12 15:07:04Z" class="relativetime-clean">Dec 12 '10 at 15:07</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-4825184" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="warm">6</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">I also don&#39;t agree that replacing the global operator new and delete is usually for performance: on the contrary, it&#39;s usually for bug tracing.</span>
                    &ndash;&nbsp;<a href="/users/518287/yttrill"
                       title="3,171 reputation"
                       class="comment-user">Yttrill</a>
                <span class="comment-date" dir="ltr"><span title="2010-12-12 15:14:32Z" class="relativetime-clean">Dec 12 '10 at 15:14</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-4825202" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">You should also note, that if you use an overloaded new operator you&#39;re required to also provide a delete operator with matching arguments. You say that in the section on global new/delete where it isn&#39;t of much interest.</span>
                    &ndash;&nbsp;<a href="/users/518287/yttrill"
                       title="3,171 reputation"
                       class="comment-user">Yttrill</a>
                <span class="comment-date" dir="ltr"><span title="2010-12-12 15:17:11Z" class="relativetime-clean">Dec 12 '10 at 15:17</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-4830038" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="warm">8</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@Yttrill you are confusing things. The <i>meaning</i> gets overloaded. What &quot;operator overloading&quot; means is that the meaning is overloaded. It does not mean that literally functions are overloaded, and <i>in particular</i> operator new will not overload the Standard&#39;s version. @sbi doesn&#39;t claim the opposite. It&#39;s common to call it &quot;overloading new&quot; much as it is common to say &quot;overloading addition operator&quot;.</span>
                    &ndash;&nbsp;<a href="/users/34509/johannes-schaub-litb"
                       title="364,576 reputation"
                       class="comment-user">Johannes Schaub - litb</a>
                <span class="comment-date" dir="ltr"><span title="2010-12-13 04:51:28Z" class="relativetime-clean">Dec 13 '10 at 4:51</span></span>
                        <span class="edited-yes" title="this comment was edited 1 time"></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-4830047" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="hot">19</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@Yttrill sadly I accidentally upvoted your comment. What i really wanted to do is to downvote it :) Please take no offense :)</span>
                    &ndash;&nbsp;<a href="/users/34509/johannes-schaub-litb"
                       title="364,576 reputation"
                       class="comment-user">Johannes Schaub - litb</a>
                <span class="comment-date" dir="ltr"><span title="2010-12-13 04:52:40Z" class="relativetime-clean">Dec 13 '10 at 4:52</span></span>
                        <span class="edited-yes" title="this comment was edited 1 time"></span>
                                                                            </div>
                    </td>
    </tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-4421791" data-rep=50 data-anon=true>

                <a class="js-add-link comments-link  dno"
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."
                   ></a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link " title="expand to show all comments on this post" href=# onclick="">show <b>10</b> more comments</a>
        </div>         
    </td>
</tr>    </table>
</div>

  
<a name="34954015"></a>
<div id="answer-34954015" class="answer" data-answerid="34954015"  itemscope itemtype="http://schema.org/Answer">
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="34954015">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">21</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>




</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<p><a href="https://stackoverflow.com/questions/34953523/overloading-the-insertion-operator-questions-theoretical">Why can't <code>operator&lt;&lt;</code> function for streaming objects to <code>std::cout</code> or to a file be a member function?</a></p>

<p>Let's say you have:</p>

<pre><code>struct Foo
{
   int a;
   double b;

   std::ostream&amp; operator&lt;&lt;(std::ostream&amp; out) const
   {
      return out &lt;&lt; a &lt;&lt; " " &lt;&lt; b;
   }
};
</code></pre>

<p>Given that, you cannot use:</p>

<pre><code>Foo f = {10, 20.0};
std::cout &lt;&lt; f;
</code></pre>

<p>Since <code>operator&lt;&lt;</code> is overloaded as a member function of <code>Foo</code>, the LHS of the operator must be a <code>Foo</code> object. Which means, you will be required to use:</p>

<pre><code>Foo f = {10, 20.0};
f &lt;&lt; std::cout
</code></pre>

<p>which is very non-intuitive.</p>

<p>If you define it as a non-member function,</p>

<pre><code>struct Foo
{
   int a;
   double b;
};

std::ostream&amp; operator&lt;&lt;(std::ostream&amp; out, Foo const&amp; f)
{
   return out &lt;&lt; f.a &lt;&lt; " " &lt;&lt; f.b;
}
</code></pre>

<p>You will be able to use:</p>

<pre><code>Foo f = {10, 20.0};
std::cout &lt;&lt; f;
</code></pre>

<p>which is very intuitive.</p>
    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/34954015" title="short permalink to this answer" class="short-link" id="link-post-34954015">share</a><span class="lsep">|</span><a href="/posts/34954015/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info user-hover">
    <div class="user-action-time">
        <a href="/posts/34954015/revisions" title="show all edits to this post">edited <span title="2017-05-23 12:10:45Z" class="relativetime">May 23 at 12:10</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="/users/-1/community"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/a007be5a61f6aa8f3e85ae2fc18dd66e?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/-1/community">Community</a><span class="mod-flair" title="moderator">&#9830;</span>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">1</span><span title="1 silver badge"><span class="badge2"></span><span class="badgecount">1</span></span>
        </div>
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2016-01-22 19:00:54Z" class="relativetime">Jan 22 '16 at 19:00</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/434551/r-sahu"><div class="gravatar-wrapper-32"><img src="https://i.stack.imgur.com/8Wzl8.png?s=32&amp;g=1" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/434551/r-sahu">R Sahu</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 126,083" dir="ltr">126k</span><span title="10 gold badges"><span class="badge1"></span><span class="badgecount">10</span></span><span title="65 silver badges"><span class="badge2"></span><span class="badgecount">65</span></span><span title="131 bronze badges"><span class="badge3"></span><span class="badgecount">131</span></span>
        </div>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-34954015" class="comments  dno">
		    <table>
                <tbody data-remaining-comments-count="0"
                       data-canpost="false"
                       data-cansee="true"
                       data-comments-unavailable="false"
                       data-addlink-disabled="true">

                        <tr><td></td><td></td></tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-34954015" data-rep=50 data-anon=true>

                <a class="js-add-link comments-link disabled-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."
                   >add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href=# onclick=""></a>
        </div>         
    </td>
</tr>    </table>
</div>
				    <div class="question-status">
        <h2>                    <b>protected</b> by <a href="/users/-1/community">Community</a><span class="mod-flair" title="moderator">&#9830;</span> <span dir="ltr"><span title="2014-12-10 15:21:38Z" class="relativetime">Dec 10 '14 at 15:21</span></span>
</h2>
        <p>
Thank you for your interest in this question. 
Because it has attracted low-quality or spam answers that had to be removed, posting an answer now requires 10 <a href="/help/whats-reputation">reputation</a> on this site (the <a href="/help/privileges/new-user">association bonus does not count</a>).
<br /><br />
Would you like to answer one of these <a href="/unanswered?fromProtectedNotice=true">unanswered questions</a> instead?
</p>
    </div>





						<h2 class="bottom-notice" data-loc="1">
Not the answer you&#39;re looking for?							Browse other questions tagged <a href="/questions/tagged/c%2b%2b" class="post-tag" title="show questions tagged &#39;c++&#39;" rel="tag">c++</a> <a href="/questions/tagged/operators" class="post-tag" title="show questions tagged &#39;operators&#39;" rel="tag">operators</a> <a href="/questions/tagged/operator-overloading" class="post-tag" title="show questions tagged &#39;operator-overloading&#39;" rel="tag">operator-overloading</a> <a href="/questions/tagged/c%2b%2b-faq" class="post-tag" title="show questions tagged &#39;c++-faq&#39;" rel="tag">c++-faq</a>  or <a href="/questions/ask">ask your own question</a>.						</h2>
			</div>
		</div>
				<div id="sidebar" class="show-votes" role="complementary" aria-label="sidebar">
						    <div class="module question-stats">
			        <table id="qinfo">
			            <tr>
			                <td>
			                    <p class="label-key">asked</p>
			                </td>
			                <td style="padding-left: 10px">
			                    <p class="label-key" title="2010-12-12 12:44:56Z"><b>6 years, 6 months ago</b></p>
			                </td>
			            </tr>
			            <tr>
			                <td>
			                    <p class="label-key">viewed</p>
			                </td>

			                <td style="padding-left: 10px">
			                    <p class="label-key">
                                    <b>754,670 times</b>
			                    </p>
			                </td>
			            </tr>
			                <tr>
			                    <td>
			                        <p class="label-key">active</p>
			                    </td>
			                    <td style="padding-left: 10px">
			                        <p class="label-key"><b><a href="?lastactivity" class="lastactivity-link" title="2017-06-28 11:20:52Z">7 days ago</a></b></p>
			                    </td>
			                </tr>
			        </table>
			    </div>
						
			<div class="everyonelovesstackoverflow" id="hireme"></div>
        <script>
window.clc_request = 'Aj8PGKVMxNQIAAAAAEp4QwACAAAAAgAAAAAsAAAAfGMrK3xvcGVyYXRvcnN8b3BlcmF0b3Itb3ZlcmxvYWRpbmd8YysrLWZhcXwAQ3jMNrNFC5fiYQ';;!function i(n){try{if("function"!=typeof[].indexOf)return;if(!window.addEventListener)return;if(!n.allowed)return;if(!RegExp(n.allowed).test(location.hostname))return;var t=window,e=t.document,c=n.wv;if(e.hidden&&c)return void e.addEventListener("visibilitychange",function t(){e.hidden||(i(n),e.removeEventListener("visibilitychange",t))});if(t.clc=t.clc||{},t.clc.init=t.clc.init||[],n.autoload&&t.clc.init.push(function(i){return i.load()}),t.clc.options){for(var o in t.clc.options)n[o]=t.clc.options[o];t.clc.options=n}else t.clc.options=n;var r=e.createElement("script");r.async=!0,r.src=n.lib,e.body.appendChild(r)}catch(i){}}.call(null, {"lib":"https://cdn.sstatic.net/clc/clc.min.js?v=d80e98d967bf","u":"https://clc.stackoverflow.com/markup.js","azw":true,"kt":2000,"tto":true,"d":{"sb":["hireme","clc-sb"],"tlb":["careers1","clc-tlb"],"mlb":["careers3","clc-mlb"]},"h":"clc.stackoverflow.com","autoload":true,"allowed":"^(((talent\\.)?stackoverflow)|(blog\\.codinghorror)|(serverfault|askubuntu)|([^\\.]+\\.stackexchange))\\.com$","wv":true});        </script>
			

            <div class="module sidebar-linked">
	<h4 id="h-linked">Linked</h4>
	<div class="linked" data-tracker="lq=1">

<div class="spacer">
	<a href="/q/2425906" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">31</div>
	</a>
	<a href="/questions/2425906/operator-overloading-outside-class?noredirect=1" class="question-hyperlink">Operator overloading outside class</a>
</div>
<div class="spacer">
	<a href="/q/17954902" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">11</div>
	</a>
	<a href="/questions/17954902/return-value-of-operator?noredirect=1" class="question-hyperlink">Return value of operator++</a>
</div>
<div class="spacer">
	<a href="/q/12938899" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">3</div>
	</a>
	<a href="/questions/12938899/how-do-the-and-operators-do-i-o?noredirect=1" class="question-hyperlink">How do the &ldquo;&lt;&lt;&rdquo; and &ldquo;&gt;&gt;&rdquo; operators do I/O?</a>
</div>
<div class="spacer">
	<a href="/q/8415890" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">8</div>
	</a>
	<a href="/questions/8415890/c-chaining-of-the-operator-for-stdcout-like-usage?noredirect=1" class="question-hyperlink">C++ chaining of the operator &lt;&lt; for std::cout like usage</a>
</div>
<div class="spacer">
	<a href="/q/8869986" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">3</div>
	</a>
	<a href="/questions/8869986/overloading-the-extraction-operator-in-c?noredirect=1" class="question-hyperlink">overloading the extraction operator &gt;&gt; in C++</a>
</div>
<div class="spacer">
	<a href="/q/9428577" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">2</div>
	</a>
	<a href="/questions/9428577/how-to-overload-the-conditional-operator?noredirect=1" class="question-hyperlink">How to overload the conditional operator?</a>
</div>
<div class="spacer">
	<a href="/q/8978202" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">3</div>
	</a>
	<a href="/questions/8978202/operator-overloading?noredirect=1" class="question-hyperlink">operator&lt;&lt; overloading</a>
</div>
<div class="spacer">
	<a href="/q/24660012" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">3</div>
	</a>
	<a href="/questions/24660012/c-why-is-operator-defined-but-not-operator-for-strings?noredirect=1" class="question-hyperlink">C++: Why is &#39;operator+=&#39; defined but not &#39;operator+&#39; for strings?</a>
</div>
<div class="spacer">
	<a href="/q/6734063" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes  default">1</div>
	</a>
	<a href="/questions/6734063/creating-an-assignment-operator-for-class-in-c?noredirect=1" class="question-hyperlink">Creating an assignment (=) operator for class in C++</a>
</div>
<div class="spacer">
	<a href="/q/10070020" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes  default">5</div>
	</a>
	<a href="/questions/10070020/c-operator-overloading?noredirect=1" class="question-hyperlink">C++ operator== overloading</a>
</div>					<div class="spacer more">
				<a href="/questions/linked/4421706">see more linked questions…</a>
			</div>
	</div>
</div>

				<div class="module sidebar-related">
					<h4 id="h-related">Related</h4>
                    <div class="related js-gps-related-questions" data-tracker="rq=1">
                        <div class="spacer"><a href="/q/57483" title="Vote score (upvotes - downvotes)"><div class="answer-votes extra-large">2116</div></a><a href="/questions/57483/what-are-the-differences-between-a-pointer-variable-and-a-reference-variable-in" class="question-hyperlink">What are the differences between a pointer variable and a reference variable in C++?</a></div><div class="spacer"><a href="/q/121162" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted extra-large">1933</div></a><a href="/questions/121162/what-does-the-explicit-keyword-mean" class="question-hyperlink">What does the explicit keyword mean?</a></div><div class="spacer"><a href="/q/359494" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted extra-large">4751</div></a><a href="/questions/359494/which-equals-operator-vs-should-be-used-in-javascript-comparisons" class="question-hyperlink">Which equals operator (== vs ===) should be used in JavaScript comparisons?</a></div><div class="spacer"><a href="/q/1642028" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted extra-large">6664</div></a><a href="/questions/1642028/what-is-the-operator-in-c" class="question-hyperlink">What is the &ldquo;--&gt;&rdquo; operator in C++?</a></div><div class="spacer"><a href="/q/3279543" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted extra-large">1425</div></a><a href="/questions/3279543/what-is-the-copy-and-swap-idiom" class="question-hyperlink">What is the copy-and-swap idiom?</a></div><div class="spacer"><a href="/q/3737139" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted extra-large">3152</div></a><a href="/questions/3737139/reference-what-does-this-symbol-mean-in-php" class="question-hyperlink">Reference - What does this symbol mean in PHP?</a></div><div class="spacer"><a href="/q/4172722" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted extra-large">1585</div></a><a href="/questions/4172722/what-is-the-rule-of-three" class="question-hyperlink">What is The Rule of Three?</a></div><div class="spacer"><a href="/q/4176328" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted large">806</div></a><a href="/questions/4176328/undefined-behavior-and-sequence-points" class="question-hyperlink">Undefined behavior and sequence points</a></div><div class="spacer"><a href="/q/6438086" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted large">360</div></a><a href="/questions/6438086/iterator-invalidation-rules" class="question-hyperlink">Iterator invalidation rules</a></div><div class="spacer"><a href="/q/7149461" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted default">59</div></a><a href="/questions/7149461/why-would-one-replace-default-new-and-delete-operators" class="question-hyperlink">Why would one replace default new and delete operators?</a></div>
                    </div>
				</div>
            

<div id="hot-network-questions" class="module tex2jax_ignore">
    <h4>
        <a href="https://stackexchange.com/questions?tab=hot"
           class="js-gps-track" 
           data-gps-track="posts_hot_network.click({ item_type:1, location:11 })">
            Hot Network Questions
        </a>
    </h4>
    <ul>
            <li >
                <div class="favicon favicon-history" title="History Stack Exchange"></div><a href="https://history.stackexchange.com/questions/38846/what-is-the-reason-for-the-selections-of-gun-caliber-size-in-history" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:324 }); posts_hot_network.click({ item_type:2, location:11 })">
                    What is the reason for the selections of gun caliber size in history?
                </a>

            </li>
            <li >
                <div class="favicon favicon-worldbuilding" title="Worldbuilding Stack Exchange"></div><a href="https://worldbuilding.stackexchange.com/questions/85348/on-a-world-with-differently-sized-humans-how-do-i-keep-wages-fair" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:579 }); posts_hot_network.click({ item_type:2, location:11 })">
                    On a world with differently sized humans, how do I keep wages fair?
                </a>

            </li>
            <li >
                <div class="favicon favicon-codereview" title="Code Review Stack Exchange"></div><a href="https://codereview.stackexchange.com/questions/167301/send-a-tweet-to-isp-when-internet-speed-drops" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:196 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Send a tweet to ISP when internet speed drops
                </a>

            </li>
            <li >
                <div class="favicon favicon-movies" title="Movies &amp; TV Stack Exchange"></div><a href="https://movies.stackexchange.com/questions/75768/what-is-the-longest-aired-episode-of-a-tv-series" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:367 }); posts_hot_network.click({ item_type:2, location:11 })">
                    What is the longest aired episode of a TV series?
                </a>

            </li>
            <li >
                <div class="favicon favicon-english" title="English Language &amp; Usage Stack Exchange"></div><a href="https://english.stackexchange.com/questions/397517/expression-for-false-assertions" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:97 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Expression for false assertions
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-rpg" title="Role-playing Games Stack Exchange"></div><a href="https://rpg.stackexchange.com/questions/102888/how-do-i-avoid-micromanaging-character-creation" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:122 }); posts_hot_network.click({ item_type:2, location:11 })">
                    How do I avoid micromanaging character creation?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-boardgames" title="Board &amp; Card Games Stack Exchange"></div><a href="https://boardgames.stackexchange.com/questions/35767/catan-hiding-development-cards" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:147 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Catan: Hiding Development Cards
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-tex" title="TeX - LaTeX Stack Exchange"></div><a href="https://tex.stackexchange.com/questions/378416/why-cannot-i-use-variable-in-for-loop-of-tikzmath" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:85 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Why cannot I use variable in for loop of tikzmath?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-stackoverflow" title="Stack Overflow"></div><a href="https://stackoverflow.com/questions/44925699/best-way-of-chaining-reduce-with-java-8" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:1 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Best way of chaining reduce with Java 8
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-english" title="English Language &amp; Usage Stack Exchange"></div><a href="https://english.stackexchange.com/questions/397384/symbols-for-yes-and-no-in-formal-english-writing" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:97 }); posts_hot_network.click({ item_type:2, location:11 })">
                    symbols for &quot;YES&quot; and &quot;NO&quot; in formal English writing
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-datascience" title="Data Science Stack Exchange"></div><a href="https://datascience.stackexchange.com/questions/20199/need-help-with-sci-kit-learn-found-input-variables-with-inconsistent-numbers-o" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:557 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Need help with Sci-Kit-Learn - Found input variables with inconsistent numbers of samples
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-tex" title="TeX - LaTeX Stack Exchange"></div><a href="https://tex.stackexchange.com/questions/378398/a-letter-looks-like-number-3-what-is-it" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:85 }); posts_hot_network.click({ item_type:2, location:11 })">
                    A letter looks like number 3. What is it?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-crypto" title="Cryptography Stack Exchange"></div><a href="https://crypto.stackexchange.com/questions/48867/timing-safety-in-jvm-languages" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:281 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Timing-Safety in JVM-Languages
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-money" title="Personal Finance &amp; Money Stack Exchange"></div><a href="https://money.stackexchange.com/questions/81447/what-does-a-stocks-quoted-value-represent" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:93 }); posts_hot_network.click({ item_type:2, location:11 })">
                    What does a stock&#39;s quoted value represent?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-scifi" title="Science Fiction &amp; Fantasy Stack Exchange"></div><a href="https://scifi.stackexchange.com/questions/163008/can-time-lords-regenerate-into-children" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:186 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Can Time Lords Regenerate Into Children?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-travel" title="Travel Stack Exchange"></div><a href="https://travel.stackexchange.com/questions/96463/why-do-prague-streets-use-double-street-addresses" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:273 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Why do Prague streets use double street addresses?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-math" title="Mathematics Stack Exchange"></div><a href="https://math.stackexchange.com/questions/2346912/smallest-possible-power" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:69 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Smallest Possible Power
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-cseducators" title="Computer Science Educators Stack Exchange"></div><a href="https://cseducators.stackexchange.com/questions/1410/how-do-you-encourage-students-to-take-criticism-of-their-code-constructively" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:678 }); posts_hot_network.click({ item_type:2, location:11 })">
                    How do you encourage students to take criticism of their code constructively?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-english" title="English Language &amp; Usage Stack Exchange"></div><a href="https://english.stackexchange.com/questions/397043/is-there-a-word-that-means-to-walk-slowly" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:97 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Is there a word that means &quot;to walk slowly&quot;?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-workplace" title="The Workplace Stack Exchange"></div><a href="https://workplace.stackexchange.com/questions/94305/my-old-company-forgot-to-stop-my-restaurant-card-contract" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:423 }); posts_hot_network.click({ item_type:2, location:11 })">
                    My old company forgot to stop my restaurant card contract
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-workplace" title="The Workplace Stack Exchange"></div><a href="https://workplace.stackexchange.com/questions/94366/asked-to-be-lead-of-my-slightly-disgruntled-team" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:423 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Asked to be lead of my slightly disgruntled team
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-english" title="English Language &amp; Usage Stack Exchange"></div><a href="https://english.stackexchange.com/questions/397466/whats-the-meaning-of-wanted-on-voyage" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:97 }); posts_hot_network.click({ item_type:2, location:11 })">
                    What&#39;s the meaning of &quot;Wanted on Voyage&quot;?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-diy" title="Home Improvement Stack Exchange"></div><a href="https://diy.stackexchange.com/questions/117792/how-to-finish-wide-gap-in-drywall-at-edge-of-ceiling" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:73 }); posts_hot_network.click({ item_type:2, location:11 })">
                    How to finish wide gap in drywall at edge of ceiling
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-math" title="Mathematics Stack Exchange"></div><a href="https://math.stackexchange.com/questions/2344993/unexpected-examples-of-natural-logarithm" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:69 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Unexpected examples of natural logarithm
                </a>

            </li>
    </ul>

        <a href="#" 
           class="show-more js-show-more js-gps-track" 
           data-gps-track="posts_hot_network.click({ item_type:3, location:11 })">
            more hot questions
        </a>
</div>
		</div>
	
<div id="feed-link">
    <div id="feed-link-text">
        <a href="/feeds/question/4421706" title="feed of this question and its answers">
            <span class="feed-icon"></span>question feed
        </a>
    </div>
</div>	<script>
StackExchange.ready(function(){$.get('/posts/4421706/ivc/2902');});
</script>
<noscript>
    <div><img src="/posts/4421706/ivc/2902" class="dno" alt="" width="0" height="0"></div>
</noscript><div style="display:none" id="prettify-lang">lang-cpp</div></div>


        </div>
    </div>

        <footer class="s-footer js-footer _short" role="contentinfo">
            <div class="-container">
                <div class="g-row js-sp-between">
                    <div class="-logo">
                        <a href="https://stackoverflow.com"><svg role="icon" class="svg-icon iconLogo" width="150" height="30" viewBox="0 0 150 30"><g><path d="M33.9 18.6l-1.7-.2c-1.3-.1-1.9-.6-1.9-1.6 0-1.1.8-1.8 2.4-1.8 1.1 0 2.1.3 2.8.8l1-1c-1-.8-2.3-1.1-3.8-1.1-2.3 0-3.9 1.2-3.9 3.1 0 1.8 1.1 2.7 3.2 2.9l1.8.2c1.2.1 1.8.6 1.8 1.6 0 1.3-1.1 1.9-2.8 1.9-1.3 0-2.5-.3-3.3-1.2l-1 1c1.2 1.1 2.6 1.5 4.4 1.5 2.6 0 4.3-1.2 4.3-3.2-.2-2-1.5-2.7-3.3-2.9zm13.3-4.8c-1.7 0-2.8.3-3.7 1.5l1 1c.6-.9 1.3-1.2 2.7-1.2 1.9 0 2.7.8 2.7 2.3v1h-3.2c-2.4 0-3.7 1.2-3.7 3.1 0 .8.3 1.6.8 2.2.7.7 1.5 1 3 1 1.4 0 2.2-.3 3.1-1.1v1h1.6v-7.2c-.1-2.4-1.5-3.6-4.3-3.6zm2.7 7c0 .9-.2 1.5-.5 1.8-.7.6-1.5.7-2.4.7-1.7 0-2.4-.6-2.4-1.8 0-1.2.8-1.9 2.4-1.9h3l-.1 1.2zm7.6-5.6c1 0 1.6.3 2.4 1.2l1-1c-1.1-1.2-2-1.6-3.5-1.6-2.7 0-4.7 1.8-4.7 5.5 0 3.6 2 5.5 4.7 5.5 1.5 0 2.4-.4 3.5-1.6l-1.1-1c-.8.9-1.4 1.2-2.4 1.2s-1.9-.4-2.5-1.2c-.5-.7-.7-1.5-.7-2.9 0-1.3.2-2.2.7-2.9.7-.8 1.6-1.2 2.6-1.2zm13.4-1.3H69l-4.8 4.7V9.1h-1.6v15.4h1.6v-3.9l1.9-1.9 3.6 5.8h1.9l-4.4-6.9 3.7-3.7zm7.3-.5c-1.6 0-2.7.6-3.4 1.4-1 1-1.3 2.3-1.3 4.3s.3 3.3 1.3 4.3c.7.7 1.8 1.4 3.4 1.4 1.6 0 2.8-.6 3.4-1.4 1-1 1.3-2.3 1.3-4.3s-.3-3.3-1.3-4.3c-.6-.8-1.7-1.4-3.4-1.4zm1.3 8.3c-.3.3-.7.5-1.3.5-.6 0-1-.2-1.3-.5-.6-.6-.6-1.6-.6-2.7 0-1.2.1-2.1.6-2.7.3-.3.7-.5 1.3-.5.6 0 1 .2 1.3.5.6.6.6 1.5.6 2.7.1 1.2 0 2.2-.6 2.7zm10.8-8.2l-2.2 6.9-2.3-6.9h-2.9L87 24.6h2.2l4.1-11.1h-3zm7.6-.1c-2.9 0-4.8 2-4.8 5.7 0 4.5 2.5 5.7 5.1 5.7 2 0 3.1-.6 4.2-1.7l-1.7-1.6c-.7.7-1.3 1-2.5 1-1.6 0-2.4-1-2.4-2.5h6.9v-1.2c0-3.2-1.7-5.4-4.8-5.4zM95.8 18c0-.5.1-.8.3-1.2.3-.7.9-1.2 1.9-1.2.9 0 1.6.5 1.9 1.2.2.4.2.7.3 1.2h-4.4zm11-3.4v-1.1h-2.7v11.1h2.8v-6.7c0-1.4.9-2 1.8-2 .7 0 1 .2 1.5.7l2.1-2.1c-.8-.8-1.5-1-2.6-1-1.3-.1-2.3.4-2.9 1.1zm6.3-2.3v12.3h2.8v-8.8h2v-2.1h-2v-1.2c0-.6.3-1 1-1h1.1V9.2h-1.6c-2.3 0-3.3 1.6-3.3 3.1zm16.2 1.1c-1.6 0-2.7.6-3.4 1.4-1 1-1.3 2.3-1.3 4.3s.3 3.3 1.3 4.3c.7.7 1.8 1.4 3.4 1.4 1.6 0 2.8-.6 3.4-1.4 1-1 1.3-2.3 1.3-4.3s-.3-3.3-1.3-4.3c-.6-.8-1.8-1.4-3.4-1.4zm1.3 8.3c-.3.3-.7.5-1.3.5-.6 0-1-.2-1.3-.5-.6-.6-.6-1.6-.6-2.7 0-1.2.1-2.1.6-2.7.3-.3.7-.5 1.3-.5.6 0 1 .2 1.3.5.6.6.6 1.5.6 2.7 0 1.2 0 2.2-.6 2.7zm16.5-8.2l-1.8 6.9-2.3-6.9h-2l-2.3 6.9-1.8-6.9H134l3.4 11.1h2.3l2.3-7 2.3 7h2.3l3.4-11.1h-2.9zM122 21.2V9.1h-2.8v12.3c0 1.6 1 3.2 3.2 3.2h1.6v-2.3h-1c-.7 0-1-.4-1-1.1zm-80.7-5.6l1.4-1.4h-3v-3.5h-1.6v11.1c0 1.6.9 2.9 2.7 2.9h1.1v-1.3h-.8c-1 0-1.5-.6-1.5-1.6v-6.1h1.7v-.1z" fill="#222426"/><path fill="#BCBBBB" d="M21 27v-8h3v11H0V19h3v8z"/><path d="M5.402 19.101l13.561 1.96.164-2.38-13.256-2.547-.469 2.967zM7.2 12.3l12 5.6 1.1-2.4-12-5.6-1.1 2.4zm3.4-5.9l10.2 8.5 1.7-2-10.2-8.5-1.7 2zM17.1.2L15 1.8l7.9 10.6 2.1-1.6L17.1.2zM5 25h14v-3H5v3z" fill="#F48024"/></g></svg></a>
                    </div>

                    <nav class="-nav js-category _visible" data-name="default">
                        <h5 class="-title"><a href="https://stackoverflow.com" class="js-gps-track" data-gps-track="footer.click({ location: 2, link: 15})">Stack Overflow</a></h5>
                        <ul class="-list">
                            <li class="-item"><a href="/questions" class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 16})">Questions</a></li>
                                <li class="-item"><a href="/jobs" class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 17})">Jobs</a></li>
                                <li class="-item"><a href="https://stackoverflow.com/jobs/directory/developer-jobs" class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 11})">Developer Jobs Directory</a></li>
                                                            <li class="-item"><a href="/documentation" class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 18})">Documentation</a></li>
                            <li class="-item"><a href="/help" class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 3 })">Help</a></li>
                            <li class="-item"><a onclick='StackExchange.switchMobile("on")' class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 12 })">Mobile</a></li>
                        </ul>
                    </nav>

                    <nav class="-nav js-category _visible" data-name="default">
                        <h5 class="-title"><a href="https://www.stackoverflowbusiness.com/" class="js-gps-track" data-gps-track="footer.click({ location: 2, link: 19 })">Stack Overflow<br /> Business</a></h5>
                        <ul class="-list">
                            <li class="-item"><a href="https://www.stackoverflowbusiness.com/talent" class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 20 })">Talent</a></li>
                            <li class="-item"><a href="https://www.stackoverflowbusiness.com/advertise" class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 21 })">Ads</a></li>
                            <li class="-item"><a href="https://www.stackoverflowbusiness.com/enterprise" class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 22 })">Enterprise</a></li>
                            <li class="-item"><a href="https://www.stackoverflowbusiness.com/insights" class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 23 })">Insights</a></li>
                        </ul>
                    </nav>

                    <nav class="-nav js-category _visible" data-name="default">
                        <h5 class="-title"><a class="js-gps-track" data-gps-track="footer.click({ location: 2, link: 1 })" href="https://stackoverflow.com/company/about">Company</a></h5>
                        <ul class="-list">
                            <li class="-item"><a class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 1 })" href="https://stackoverflow.com/company/about">About</a></li>
                            <li class="-item"><a class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 27 })" href="https://stackoverflow.com/company/press">Press</a></li>
                            <li class="-item"><a class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 9 })" href="https://stackoverflow.com/company/work-here">Work Here</a></li>
                            <li class="-item"><a class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 7 })" href="https://stackexchange.com/legal">Legal</a></li>
                            <li class="-item"><a class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 8 })" href="https://stackexchange.com/legal/privacy-policy">Privacy Policy</a></li>
                            <li class="-item"><a class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 13 })" href="https://stackoverflow.com/company/contact">Contact Us</a></li>
                        </ul>
                    </nav>

                    <div class="-network g-row">
                        <a href="#" class="-back-trigger js-back"><svg role="icon" class="svg-icon iconArrowLeftAlt" width="18" height="18" viewBox="0 0 18 18"><path d="M10.582 16l1.41-1.41L6.402 9l5.59-5.59L10.582 2l-7 7z"/></svg></a>
                        <div>
                            <h5 class="-title"><a href="https://stackexchange.com">Stack Exchange<br> Network</a></h5>
                            <ul class="-list">
                                <li class="-item"><a href="#" class="-link _expandable js-category-trigger js-gps-track" data-gps-track="footer.click({ location: 2, link: 24 })" data-target="Technology">Technology</a></li>
                                <li class="-item"><a href="#" class="-link _expandable js-category-trigger js-gps-track" data-gps-track="footer.click({ location: 2, link: 24 })" data-target="Life / Arts">Life / Arts</a></li>
                                <li class="-item"><a href="#" class="-link _expandable js-category-trigger js-gps-track" data-gps-track="footer.click({ location: 2, link: 24 })" data-target="Culture / Recreation">Culture / Recreation</a></li>
                                <li class="-item"><a href="#" class="-link _expandable js-category-trigger js-gps-track" data-gps-track="footer.click({ location: 2, link: 24 })" data-target="Science">Science</a></li>
                                <li class="-item"><a href="#" class="-link _expandable js-category-trigger js-gps-track" data-gps-track="footer.click({ location: 2, link: 24 })" data-target="Other">Other</a></li>

                            </ul>
                        </div>
                    </div>
                    <nav class="-nav js-category" data-name="Technology">
        <ul class="-list">
                <li class="-item"><a href="//stackoverflow.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="professional and enthusiast programmers">Stack Overflow</a></li>
                <li class="-item"><a href="//serverfault.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="system and network administrators">Server Fault</a></li>
                <li class="-item"><a href="//superuser.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="computer enthusiasts and power users">Super User</a></li>
                <li class="-item"><a href="//webapps.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="power users of web applications">Web Applications</a></li>
                <li class="-item"><a href="//askubuntu.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="Ubuntu users and developers">Ask Ubuntu</a></li>
                <li class="-item"><a href="//webmasters.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="pro webmasters">Webmasters</a></li>
                <li class="-item"><a href="//gamedev.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="professional and independent game developers">Game Development</a></li>
                    </ul></nav><nav class="-nav js-category" data-name="Technology"><ul class="-list">
                <li class="-item"><a href="//tex.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="users of TeX, LaTeX, ConTeXt, and related typesetting systems">TeX - LaTeX</a></li>
                <li class="-item"><a href="//softwareengineering.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="professionals, academics, and students working within the systems development life cycle">Software Engineering</a></li>
                <li class="-item"><a href="//unix.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="users of Linux, FreeBSD and other Un*x-like operating systems">Unix &amp; Linux</a></li>
                <li class="-item"><a href="//apple.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="power users of Apple hardware and software">Ask Different (Apple)</a></li>
                <li class="-item"><a href="//wordpress.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="WordPress developers and administrators">WordPress Development</a></li>
                <li class="-item"><a href="//gis.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="cartographers, geographers and GIS professionals">Geographic Information Systems</a></li>
                <li class="-item"><a href="//electronics.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="electronics and electrical engineering professionals, students, and enthusiasts">Electrical Engineering</a></li>
                    </ul></nav><nav class="-nav js-category" data-name="Technology"><ul class="-list">
                <li class="-item"><a href="//android.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="enthusiasts and power users of the Android operating system">Android Enthusiasts</a></li>
                <li class="-item"><a href="//security.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="information security professionals">Information Security</a></li>
                <li class="-item"><a href="//dba.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="database professionals who wish to improve their database skills and learn from others in the community">Database Administrators</a></li>
                <li class="-item"><a href="//drupal.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="Drupal developers and administrators">Drupal Answers</a></li>
                <li class="-item"><a href="//sharepoint.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="SharePoint enthusiasts">SharePoint</a></li>
                <li class="-item"><a href="//ux.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="user experience researchers and experts">User Experience</a></li>
                <li class="-item"><a href="//mathematica.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="users of Wolfram Mathematica">Mathematica</a></li>
                    </ul></nav><nav class="-nav js-category" data-name="Technology"><ul class="-list">
                <li class="-item"><a href="//salesforce.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="Salesforce administrators, implementation experts, developers and anybody in-between">Salesforce</a></li>
                <li class="-item"><a href="//expressionengine.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="administrators, end users, developers and designers for ExpressionEngine&#174; CMS">ExpressionEngine&#174; Answers</a></li>
                <li class="-item"><a href="//blender.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="people who use Blender to create 3D graphics, animations, or games">Blender</a></li>
                <li class="-item"><a href="//networkengineering.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="network engineers">Network Engineering</a></li>
                <li class="-item"><a href="//crypto.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="software developers, mathematicians and others interested in cryptography">Cryptography</a></li>
                <li class="-item"><a href="//codereview.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="peer programmer code reviews">Code Review</a></li>
                <li class="-item"><a href="//magento.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="users of the Magento e-Commerce platform">Magento</a></li>
                    </ul></nav><nav class="-nav js-category" data-name="Technology"><ul class="-list">
                <li class="-item"><a href="//softwarerecs.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="people seeking specific software recommendations">Software Recommendations</a></li>
                <li class="-item"><a href="//dsp.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="practitioners of the art and science of signal, image and video processing">Signal Processing</a></li>
                <li class="-item"><a href="//emacs.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="those using, extending or developing Emacs">Emacs</a></li>
                <li class="-item"><a href="//raspberrypi.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="users and developers of hardware and software for Raspberry Pi">Raspberry Pi</a></li>
                <li class="-item"><a href="//codegolf.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="programming puzzle enthusiasts and code golfers">Programming Puzzles &amp; Code Golf</a></li>
                <li class="-item"><a href="//ethereum.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="users of Ethereum, the decentralized application platform and smart contract enabled blockchain">Ethereum</a></li>
                            <li class="-item">
                    <a href="https://stackexchange.com/sites#technology" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 26 })">
                        <strong>
                            more (28)
                        </strong>
                    </a>
                </li>
        </ul>
    </nav>
    <nav class="-nav js-category" data-name="Life / Arts">
        <ul class="-list">
                <li class="-item"><a href="//photo.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="professional, enthusiast and amateur photographers">Photography</a></li>
                <li class="-item"><a href="//scifi.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="science fiction and fantasy enthusiasts">Science Fiction &amp; Fantasy</a></li>
                <li class="-item"><a href="//graphicdesign.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="Graphic Design professionals, students, and enthusiasts">Graphic Design</a></li>
                <li class="-item"><a href="//movies.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="movie and tv enthusiasts">Movies &amp; TV</a></li>
                <li class="-item"><a href="//music.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="musicians, students, and enthusiasts">Music: Practice &amp; Theory</a></li>
                <li class="-item"><a href="//worldbuilding.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="writers/artists using science, geography and culture to construct imaginary worlds and settings">Worldbuilding</a></li>
                <li class="-item"><a href="//cooking.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="professional and amateur chefs">Seasoned Advice (cooking)</a></li>
                    </ul></nav><nav class="-nav js-category" data-name="Life / Arts"><ul class="-list">
                <li class="-item"><a href="//diy.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="contractors and serious DIYers">Home Improvement</a></li>
                <li class="-item"><a href="//money.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="people who want to be financially literate">Personal Finance &amp; Money</a></li>
                <li class="-item"><a href="//academia.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="academics and those enrolled in higher education">Academia</a></li>
                <li class="-item"><a href="//law.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="legal professionals, students, and others with experience or interest in law">Law</a></li>
                            <li class="-item">
                    <a href="https://stackexchange.com/sites#lifearts" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 26 })">
                        <strong>
                            more (16)
                        </strong>
                    </a>
                </li>
        </ul>
    </nav>
    <nav class="-nav js-category" data-name="Culture / Recreation">
        <ul class="-list">
                <li class="-item"><a href="//english.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="linguists, etymologists, and serious English language enthusiasts">English Language &amp; Usage</a></li>
                <li class="-item"><a href="//skeptics.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="scientific skepticism">Skeptics</a></li>
                <li class="-item"><a href="//judaism.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="those who base their lives on Jewish law and tradition and anyone interested in learning more">Mi Yodeya (Judaism)</a></li>
                <li class="-item"><a href="//travel.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="road warriors and seasoned travelers">Travel</a></li>
                <li class="-item"><a href="//christianity.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="committed Christians, experts in Christianity and those interested in learning more">Christianity</a></li>
                <li class="-item"><a href="//ell.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="speakers of other languages learning English">English Language Learners</a></li>
                <li class="-item"><a href="//japanese.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="students, teachers, and linguists wanting to discuss the finer points of the Japanese language">Japanese Language</a></li>
                    </ul></nav><nav class="-nav js-category" data-name="Culture / Recreation"><ul class="-list">
                <li class="-item"><a href="//gaming.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="passionate videogamers on all platforms">Arqade (gaming)</a></li>
                <li class="-item"><a href="//bicycles.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="people who build and repair bicycles, people who train cycling, or commute on bicycles">Bicycles</a></li>
                <li class="-item"><a href="//rpg.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="gamemasters and players of tabletop, paper-and-pencil role-playing games">Role-playing Games</a></li>
                <li class="-item"><a href="//anime.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="anime and manga fans">Anime &amp; Manga</a></li>
                <li class="-item"><a href="//puzzling.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="those who create, solve, and study puzzles">Puzzling</a></li>
                <li class="-item"><a href="//mechanics.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="mechanics and DIY enthusiast owners of cars, trucks, and motorcycles">Motor Vehicle Maintenance &amp; Repair</a></li>
                            <li class="-item">
                    <a href="https://stackexchange.com/sites#culturerecreation" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 26 })">
                        <strong>
                            more (32)
                        </strong>
                    </a>
                </li>
        </ul>
    </nav>
    <nav class="-nav js-category" data-name="Science">
        <ul class="-list">
                <li class="-item"><a href="//mathoverflow.net" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="professional mathematicians">MathOverflow</a></li>
                <li class="-item"><a href="//math.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="people studying math at any level and professionals in related fields">Mathematics</a></li>
                <li class="-item"><a href="//stats.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="people interested in statistics, machine learning, data analysis, data mining, and data visualization">Cross Validated (stats)</a></li>
                <li class="-item"><a href="//cstheory.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="theoretical computer scientists and researchers in related fields">Theoretical Computer Science</a></li>
                <li class="-item"><a href="//physics.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="active researchers, academics and students of physics">Physics</a></li>
                <li class="-item"><a href="//chemistry.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="scientists, academics, teachers and students">Chemistry</a></li>
                <li class="-item"><a href="//biology.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="biology researchers, academics, and students">Biology</a></li>
                    </ul></nav><nav class="-nav js-category" data-name="Science"><ul class="-list">
                <li class="-item"><a href="//cs.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="students, researchers and practitioners of computer science">Computer Science</a></li>
                <li class="-item"><a href="//philosophy.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="those interested in the study of the fundamental nature of knowledge, reality, and existence">Philosophy</a></li>
                            <li class="-item">
                    <a href="https://stackexchange.com/sites#science" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 26 })">
                        <strong>
                            more (10)
                        </strong>
                    </a>
                </li>
        </ul>
    </nav>
    <nav class="-nav js-category" data-name="Other">
        <ul class="-list">
                <li class="-item"><a href="//meta.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="meta-discussion of the Stack Exchange family of Q&amp;A websites">Meta Stack Exchange</a></li>
                <li class="-item"><a href="//stackapps.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="apps, scripts, and development with the Stack Exchange API">Stack Apps</a></li>
                <li class="-item"><a href="https://api.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="programmatic interaction with Stack Exchange sites">API</a></li>
                <li class="-item"><a href="https://data.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="querying Stack Exchange data using SQL">Data</a></li>
                <li class="-item"><a href="//area51.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 1, link: 25 })" title="proposing new sites in the Stack Exchange network">Area 51</a></li>
                    </ul>
    </nav>
                    <div class="-copyright text-right">
                        <div class="g-column jc-sp-between">
                            <ul class="-list">
                                <li class="-item"><a class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link:4 })" href="https://stackoverflow.blog?blb=1">Blog</a></li>
                                <li class="-item"><a href="https://www.facebook.com/officialstackoverflow/" class="-link">Facebook</a></li>
                                <li class="-item"><a href="https://twitter.com/stackoverflow" class="-link">Twitter</a></li>
                                <li class="-item"><a href="https://linkedin.com/company/stack-overflow" class="-link">LinkedIn</a></li>
                            </ul>

                            <div>
                                <p>
                                    site design / logo &#169; 2017 Stack Exchange Inc; user contributions licensed under <a href="https://creativecommons.org/licenses/by-sa/3.0/" rel="license">cc by-sa 3.0</a>
                                    with <a href="https://stackoverflow.blog/2009/06/25/attribution-required/" rel="license">attribution required</a>.
                                    <span id="svnrev">rev 2017.7.5.26430</span>
                                </p>

                            </div>
                        </div>
                    </div>
                </div>

                            </div>
        </footer>

    <noscript>
        <div id="noscript-warning">Stack Overflow works best with JavaScript enabled
            <img src="https://pixel.quantserve.com/pixel/p-c1rF4kxgLUzNc.gif" alt="" class="dno">
        </div>
    </noscript>
        <script> setTimeout(function() { $("#adzerk-user-match").remove(); }, 2000);</script>

    <script>
            (function(i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function() { (i[r].q = i[r].q || []).push(arguments) }, i[r].l = 1 * new Date(); a = s.createElement(o),
                m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m);
            })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
                ga('create', 'UA-5620270-1');
                ga('create', 'UA-5620270-59', {name: 'pageData', sampleRate: 5 });
                ga('set', 'dimension2', '|c++|operators|operator-overloading|c++-faq|');
                ga('pageData.set', 'dimension2', '|c++|operators|operator-overloading|c++-faq|');
                ga('send', 'pageview');
                ga('pageData.send', 'pageview');
        var _qevents = _qevents || [],
            _comscore = _comscore || [];
        (function () {
            var ssl='https:'==document.location.protocol,
                s=document.getElementsByTagName('script')[0],
                qc=document.createElement('script');
                qc.async = true;
                qc.src = (ssl ? 'https://secure' : 'http://edge') + '.quantserve.com/quant.js';
                s.parentNode.insertBefore(qc, s);
                _qevents.push({ qacct: "p-c1rF4kxgLUzNc" });
                            var sc=document.createElement('script');
                sc.async=true;
                sc.src=(ssl?'https://sb':'http://b') + '.scorecardresearch.com/beacon.js';
                s.parentNode.insertBefore(sc, s);
                _comscore.push({ c1: "2", c2: "17440561" });
        })();

    </script>
        
    
            <script type="text/javascript">
                
                (function(appendChild) {
                    Node.prototype.appendChild = function() {
                        var parent = this;
                        var newNode = arguments[0];
                        if (parent.nodeName === 'HEAD'
                            && newNode
                            && newNode.nodeName === 'SCRIPT'
                            && newNode.src) {
                            
                            window.setTimeout(function() {
                                var result = newNode.src.match(/^https:\/\/maps\.googleapis\.com\/maps\/api\/place\/js\/(\w+)Service\./i) || [];
                                var service = result[1];
                                if (service) {
                                    if (service === 'Autocompletion') service =  2;
                                    else if (service === 'Place') service = 1;
                                    else service = 0;
                                    StackExchange.using('gps', function() {
                                        StackExchange.gps.track('google_maps_places_api.call', { service: service });
                                    });
                                }
                            }, 0);
                        }
                        return appendChild.apply(this, arguments);
                    };
                })(Node.prototype.appendChild);
            </script>
    </body>
</html>
